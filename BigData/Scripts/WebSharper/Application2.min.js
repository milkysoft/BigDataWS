(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;$.Define($$,{Application2:{Client:{LoginForm:function(){var G,J,N,O,P,Q,R;if(a){a.log("Trying to create LoginForm");}G=function(H){var I;I=H[0];H[1];H[2];return b("Welcome, "+I+"!");};N=f.Yield("");O=f.Yield("");J=d.op_LessMultiplyGreater(d.op_LessMultiplyGreater(d.op_LessMultiplyGreater(e.Return(function(K){return function(L){return function(M){return[K,L,M];};};}),g.IsNotEmpty("Must enter a username",N)),g.IsNotEmpty("Must enter a password",O)),f.Yield(false));P=f.WithSubmit(J);Q=f.Run(G,P);R=function(){return function(T){return function(U){return function(V){var W,X,Y,Z,_0,_1,_2,_3;X=j.TextAreaWithError("Username - echoed");Y=$.New(k,{$:0});Z=X(Y);_0=[m.rvUsername(),$.New(k,{$:0}),$.New(k,{$:0})];_1=_0[0];_2=_0[1];_3=_0[2];W=h.ofArray([j.Input("Username",$.New(k,{$:0}),m.rvUsername(),h.ofArray([(m.cls())("sr-only")]),h.ofArray([(m.cls())("input-lg"),p.Create("readonly","")])),q.TextAreaWithError("Username - echoed",m.rvUsername(),V.get_View()),(Z([_1,_2,_3]))(V.get_View()),q.InputWithError("Username - echoed",m.rvUsername(),V.get_View()),q.InputPasswordWithError("Password",T,V.get_View()),j.Checkbox("Keep me logged in",$.New(k,{$:0}),U,h.ofArray([(m.cls())("input-lg")]),$.New(k,{$:0})),j.Radio("This is a radio button",$.New(k,{$:0}),U,$.New(k,{$:0}),$.New(k,{$:0})),(((j.Button())("Log in"))(h.ofArray([(j.Class())("btn btn-primary")])))(function(){return V.Trigger();}),j.ShowErrors(h.ofArray([p.Create("style","margin-top:1em;")]),V.get_View())]);return r.Element("form",[],W);};};};};return e.Render(R,Q);},Main:function(){var _5,_6,_7,_8,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs;m.postList().Add(m.post1());m.postList().Add(m.post2());_5={Posts:m.postList()};_6=s.Create("");_7=t.CreateOption(_6.get_View());_8=function(_9){return _9.$==1?v.Async("Application2:0",[_9.$0]):w.Delay(function(){return w.Return("");});};ba=_7.get_View();bb=x.MapAsync(_8,ba);bc=p.Create("placeholder","Search");bd=y.Class("mainsearch");be=z.append([bc],h.ofArray([bd]));bf=p.Create("id","blogItems");bg=y.Class("col-md-12");bh=z.append([bf],h.ofArray([bg]));bi=p.Create("id","loginform");bj=y.Class("divhidden");bk=z.append([bi],h.ofArray([bj]));bl=y.Style("visibility","hidden");bm=z.append(h.ofArray([bj]),h.ofArray([bi]));bn=h.ofArray([y.Class("container")]);bo=h.ofArray([y.Class("navbar navbar-default navbar-fixed-top")]);bp=h.ofArray([y.Class("navbar-collapse collapse")]);bq=h.ofArray([y.Class("navbar-collapse collapse")]);br=h.ofArray([y.Class("pull-right")]);bs=h.ofArray([r.Input(be,m.rvUsername())]);return r.Element("div",bn,h.ofArray([r.Element("div",bo,h.ofArray([m["doc'nav'left"](),r.Element("div",bp,h.ofArray([r.Element("div",bq,h.ofArray([r.Element("div",br,h.ofArray([r.Element("div",h.ofArray([y.Class("nav")]),h.ofArray([r.Element("ul",h.ofArray([y.Class("nav navbar-nav sm sm-collapsible")]),h.ofArray([r.Element("li",[],bs)])),r.EmbedView(m.loaddata())]))]))]))]))])),r.Element("div",bh,h.ofArray([r.EmbedView(x.Map(function(){return r.Convert(function(bu){return m.doc(bu);},A.View(_5.Posts));},m["v'blog"]()))]))]));},addNewBlog:$.Field(function(){var bu,bv;bu=m.iid()+1;m.iid=function(){return bu;};m.postList().Add({Id:m.iid(),Title:s.Create("New item "+B(m.iid())+" title"),Content:s.Create("44444fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)});bv=m.iid();return a?a.log(bv):undefined;}),cls:$.Field(function(){return function(bw){return y.Class(bw);};}),doc:function(bx){var by;by="post-"+$$.String(bx.Id)+"-article";return r.Element("div",h.ofArray([y.Class("panel panel-primary"),p.Create("id",by)]),h.ofArray([m["doc'header"](bx),m["doc'body"](bx)]));},"doc'body":function(bz){var bA,bB,bC,bD,bE;bA=h.ofArray([y.Class("panel-body")]);bB=h.ofArray([r.TextView(bz.Content.get_View())]);bC=h.ofArray([r.TextView(bz.EditDate.get_View())]);bD=h.ofArray([y.Class("btn btn-default")]);bE=function(){C.Set(m.rvUsername(),C.Get(bz.Content));D("#blogItems").hide();D("#loginform").removeClass("divhidden").addClass("divshown");return a?a.log(1):undefined;};return r.Element("div",bA,h.ofArray([r.Element("div",[],bB),r.Element("p",[],bC),r.Button("New Item",bD,bE)]));},"doc'header":function(bG){var bH;bH=h.ofArray([r.TextView(bG.Title.get_View())]);return r.Element("div",h.ofArray([y.Class("panel-heading")]),h.ofArray([r.Element("div",[],bH)]));},"doc'main'menu":$.Field(function(){var bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW;bI=h.ofArray([y.Class("nav navbar-nav")]);bJ=h.ofArray([y.Class("dropdown open")]);bK=h.ofArray([y.Class("dropdown-menu")]);bL=h.ofArray([r.TextNode("System Configuration")]);bM=h.ofArray([r.TextNode("System Configuration")]);bN=h.ofArray([r.TextNode("System Configuration")]);bO=h.ofArray([y.Class("dropdown open")]);bP=h.ofArray([y.Class("dropdown-menu")]);bQ=h.ofArray([r.TextNode("Interface report")]);bR=h.ofArray([r.TextNode("Process Schedule Maintenance")]);bS=h.ofArray([r.TextNode("Calendar Management")]);bT=h.ofArray([r.TextNode("System Utility")]);bU=h.ofArray([r.TextNode("System Maintenance")]);bV=h.ofArray([r.TextNode("Payroll Process Management")]);bW=h.ofArray([r.TextNode("Human Resource Management")]);return r.Element("ul",bI,h.ofArray([r.Element("li",bJ,h.ofArray([r.Element("a",h.ofArray([y.Class("dropdown-toggle")]),h.ofArray([r.TextNode("System Configuration")])),r.Element("ul",bK,h.ofArray([r.Element("li",[],bL),r.Element("li",[],bM),r.Element("li",[],bN)]))])),r.Element("li",bO,h.ofArray([r.Element("a",h.ofArray([y.Class("dropdown-toggle")]),h.ofArray([r.TextNode("System Utility")])),r.Element("ul",bP,h.ofArray([r.Element("li",[],bQ),r.Element("li",[],bR),r.Element("li",[],bS)]))])),r.Element("li",[],bT),r.Element("li",[],bU),r.Element("li",[],bV),r.Element("li",[],bW)]));}),"doc'nav'left":$.Field(function(){var bX;bX=h.ofArray([r.TextNode("jkhkjhjk")]);return r.Element("div",[],bX);}),iid:$.Field(function(){return 5;}),loaddata:$.Field(function(){var bY,bZ;bY=m["v'menu"]().get_View();bZ=function(){return w.Delay(function(){var b2;b2=v.Async("Application2:1",[0,"WEBSITE"]);return w.Bind(b2,function(b3){var b4,b5,b6;b4=b3.$0;b4[4];b4[0];b4[3];b5=b4[1];b4[2];b3.$0;b6="trying to get menu from server "+b5;a?a.log(b6):undefined;return w.Return(r.get_Empty());});});};return x.MapAsync(bZ,bY);}),post1:$.Field(function(){return{Id:1,Title:s.Create("111ssdfds"),Content:s.Create("333fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)};}),post2:$.Field(function(){return{Id:2,Title:s.Create("222ssdfds"),Content:s.Create("44444fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)};}),postList:$.Field(function(){var b7,b9;b7=function(b8){return b8.Id<<0;};b9=$.New(k,{$:0});return E.Create(b7,b9);}),rvSubmit:$.Field(function(){return s.Create(null);}),rvUsername:$.Field(function(){return s.Create("");}),"v'blog":$.Field(function(){var b_,cb;b_=function(){return w.Delay(function(){return w.Return(m.postList());});};x.get_Do();cb=F.Const(1);return x.MapAsync(b_,cb);}),"v'menu":$.Field(function(){return s.Create("");})}}});$.OnInit(function(){a=$.Safe($$.console);b=$.Safe($$.alert);c=$.Safe($$.WebSharper.Forms);d=$.Safe(c.Pervasives);e=$.Safe(c.Form1);f=$.Safe(c.Form);g=$.Safe(c.Validation);h=$.Safe($$.WebSharper.List);i=$.Safe(c.Bootstrap);j=$.Safe(i.Controls);k=$.Safe(h.T);l=$.Safe($$.Application2);m=$.Safe(l.Client);n=$.Safe($$.WebSharper.UI);o=$.Safe(n.Next);p=$.Safe(o.AttrProxy);q=$.Safe(j.Simple);r=$.Safe(o.Doc);s=$.Safe(o.Var);t=$.Safe(o.Submitter);u=$.Safe($$.WebSharper.Remoting);v=$.Safe(u.AjaxRemotingProvider);w=$.Safe($$.WebSharper.Concurrency);x=$.Safe(o.View);y=$.Safe(o.AttrModule);z=$.Safe($$.WebSharper.Seq);A=$.Safe(o.ListModel1);B=$.Safe($$.String);C=$.Safe(o.Var1);D=$.Safe($$.jQuery);E=$.Safe(o.ListModel);return F=$.Safe(o.View1);});$.OnLoad(function(){m["v'menu"]();m["v'blog"]();m.rvUsername();m.rvSubmit();m.postList();m.post2();m.post1();m.loaddata();m.iid();m["doc'nav'left"]();m["doc'main'menu"]();m.cls();m.addNewBlog();return;});}());
