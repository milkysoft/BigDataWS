(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;$.Define($$,{Application2:{Client:{LoginForm:function(){var I,L,P,Q,R,S,T;if(a){a.log("Trying to create LoginForm");}I=function(J){var K;K=J[0];J[1];J[2];return b("Welcome, "+K+"!");};P=f.Yield("");Q=f.Yield("");L=d.op_LessMultiplyGreater(d.op_LessMultiplyGreater(d.op_LessMultiplyGreater(e.Return(function(M){return function(N){return function(O){return[M,N,O];};};}),g.IsNotEmpty("Must enter a username",P)),g.IsNotEmpty("Must enter a password",Q)),f.Yield(false));R=f.WithSubmit(L);S=f.Run(I,R);T=function(){return function(V){return function(W){return function(X){var Y,Z,_0,_1,_2,_3,_4,_5;Z=j.TextAreaWithError("Username - echoed");_0=$.New(k,{$:0});_1=Z(_0);_2=[m.rvUsername(),$.New(k,{$:0}),$.New(k,{$:0})];_3=_2[0];_4=_2[1];_5=_2[2];Y=h.ofArray([j.Input("Username",$.New(k,{$:0}),m.rvUsername(),h.ofArray([(m.cls())("sr-only")]),h.ofArray([(m.cls())("input-lg"),p.Create("readonly","")])),q.TextAreaWithError("Username - echoed",m.rvUsername(),X.get_View()),(_1([_3,_4,_5]))(X.get_View()),q.InputWithError("Username - echoed",m.rvUsername(),X.get_View()),q.InputPasswordWithError("Password",V,X.get_View()),j.Checkbox("Keep me logged in",$.New(k,{$:0}),W,h.ofArray([(m.cls())("input-lg")]),$.New(k,{$:0})),j.Radio("This is a radio button",$.New(k,{$:0}),W,$.New(k,{$:0}),$.New(k,{$:0})),(((j.Button())("Log in"))(h.ofArray([(j.Class())("btn btn-primary")])))(function(){return X.Trigger();}),j.ShowErrors(h.ofArray([p.Create("style","margin-top:1em;")]),X.get_View())]);return r.Element("form",[],Y);};};};};return e.Render(T,S);},Main:function(){var _7,_8,_9,_,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bD,bE;m.postList().Add(m.post1());m.postList().Add(m.post2());_7={Posts:m.postList()};_8=s.Create("");_9=t.CreateOption(_8.get_View());_=function(ba){var bb,bc;if(ba.$==1){bc=ba.$0;bb=v.Async("Application2:0",[bc]);}else{bb=w.Delay(function(){return w.Return("");});}return bb;};be=_9.get_View();bf=x.MapAsync(_,be);bg=p.Create("placeholder","Search");bh=y.Class("mainsearch");bi=z.append([bg],h.ofArray([bh]));bj=p.Create("id","blogItems");bk=y.Class("col-md-12");bl=z.append([bj],h.ofArray([bk]));bm=p.Create("id","loginform");bn=y.Class("divhidden");bo=z.append([bm],h.ofArray([bn]));bp=y.Style("visibility","hidden");bq=z.append(h.ofArray([bn]),h.ofArray([bm]));br=h.ofArray([y.Class("container")]);bs=h.ofArray([y.Class("navbar navbar-default navbar-fixed-top")]);bt=h.ofArray([y.Class("navbar-collapse collapse")]);bu=h.ofArray([y.Class("navbar-collapse collapse")]);bv=h.ofArray([y.Class("pull-right")]);bw=h.ofArray([r.Input(bi,m.rvUsername())]);bx=m.loaddata();by=function(){var bA,bC;bA=function(bB){return m.doc(bB);};bC=A.View(_7.Posts);return r.Convert(bA,bC);};bD=m["v'blog"]();bE=x.Map(by,bD);return r.Element("div",br,h.ofArray([r.Element("div",bs,h.ofArray([m["doc'nav'left"](),r.Element("div",bt,h.ofArray([r.Element("div",bu,h.ofArray([r.Element("div",bv,h.ofArray([r.Element("div",h.ofArray([y.Class("nav")]),h.ofArray([r.Element("ul",h.ofArray([y.Class("nav navbar-nav sm sm-collapsible")]),h.ofArray([r.Element("li",[],bw)])),r.EmbedView(bx)]))]))]))]))])),r.Element("div",bl,h.ofArray([r.EmbedView(bE)]))]));},addNewBlog:$.Field(function(){var bE,bF;bE=m.iid()+1;m.iid=function(){return bE;};m.postList().Add({Id:m.iid(),Title:s.Create("New item "+B(m.iid())+" title"),Content:s.Create("44444fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)});bF=m.iid();return a?a.log(bF):undefined;}),cls:$.Field(function(){return function(bG){return y.Class(bG);};}),doc:function(bH){var bI;bI="post-"+$$.String(bH.Id)+"-article";return r.Element("div",h.ofArray([y.Class("panel panel-primary"),p.Create("id",bI)]),h.ofArray([m["doc'header"](bH),m["doc'body"](bH)]));},"doc'body":function(bJ){var bK,bL,bM,bN,bO;bK=h.ofArray([y.Class("panel-body")]);bL=h.ofArray([r.TextView(bJ.Content.get_View())]);bM=h.ofArray([r.TextView(bJ.EditDate.get_View())]);bN=h.ofArray([y.Class("btn btn-default")]);bO=function(){C.Set(m.rvUsername(),C.Get(bJ.Content));D("#blogItems").hide();D("#loginform").removeClass("divhidden").addClass("divshown");return a?a.log(1):undefined;};return r.Element("div",bK,h.ofArray([r.Element("div",[],bL),r.Element("p",[],bM),r.Button("New Item",bN,bO)]));},"doc'header":function(bQ){var bR;bR=h.ofArray([r.TextView(bQ.Title.get_View())]);return r.Element("div",h.ofArray([y.Class("panel-heading")]),h.ofArray([r.Element("div",[],bR)]));},"doc'main'menu":$.Field(function(){var bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6;bS=h.ofArray([y.Class("nav navbar-nav")]);bT=h.ofArray([y.Class("dropdown open")]);bU=h.ofArray([y.Class("dropdown-menu")]);bV=h.ofArray([r.TextNode("System Configuration")]);bW=h.ofArray([r.TextNode("System Configuration")]);bX=h.ofArray([r.TextNode("System Configuration")]);bY=h.ofArray([y.Class("dropdown open")]);bZ=h.ofArray([y.Class("dropdown-menu")]);b0=h.ofArray([r.TextNode("Interface report")]);b1=h.ofArray([r.TextNode("Process Schedule Maintenance")]);b2=h.ofArray([r.TextNode("Calendar Management")]);b3=h.ofArray([r.TextNode("System Utility")]);b4=h.ofArray([r.TextNode("System Maintenance")]);b5=h.ofArray([r.TextNode("Payroll Process Management")]);b6=h.ofArray([r.TextNode("Human Resource Management")]);return r.Element("ul",bS,h.ofArray([r.Element("li",bT,h.ofArray([r.Element("a",h.ofArray([y.Class("dropdown-toggle")]),h.ofArray([r.TextNode("System Configuration")])),r.Element("ul",bU,h.ofArray([r.Element("li",[],bV),r.Element("li",[],bW),r.Element("li",[],bX)]))])),r.Element("li",bY,h.ofArray([r.Element("a",h.ofArray([y.Class("dropdown-toggle")]),h.ofArray([r.TextNode("System Utility")])),r.Element("ul",bZ,h.ofArray([r.Element("li",[],b0),r.Element("li",[],b1),r.Element("li",[],b2)]))])),r.Element("li",[],b3),r.Element("li",[],b4),r.Element("li",[],b5),r.Element("li",[],b6)]));}),"doc'nav'left":$.Field(function(){var b7;b7=h.ofArray([r.TextNode("jkhkjhjk")]);return r.Element("div",[],b7);}),iid:$.Field(function(){return 5;}),loaddata:$.Field(function(){var b8,b9;b8=m["v'menu"]().get_View();b9=function(){return w.Delay(function(){var ca;ca=v.Async("Application2:1",[0,"WEBSITE"]);return w.Bind(ca,function(cb){var cc,cd,ce;cc=cb.$0;cc[4];cc[0];cc[3];cd=cc[1];cc[2];cb.$0;ce="trying to get menu from server "+cd;a?a.log(ce):undefined;return w.Return(r.get_Empty());});});};return x.MapAsync(b9,b8);}),post1:$.Field(function(){return{Id:1,Title:s.Create("111ssdfds"),Content:s.Create("333fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)};}),post2:$.Field(function(){return{Id:2,Title:s.Create("222ssdfds"),Content:s.Create("44444fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)};}),postList:$.Field(function(){var cf,ch;cf=function(cg){return cg.Id<<0;};ch=$.New(k,{$:0});return E.Create(cf,ch);}),rvSubmit:$.Field(function(){return s.Create(null);}),rvUsername:$.Field(function(){return s.Create("");}),"v'blog":$.Field(function(){var ci,cl;ci=function(){return w.Delay(function(){return w.Return(m.postList());});};x.get_Do();cl=F.Const(1);return x.MapAsync(ci,cl);}),"v'menu":$.Field(function(){return s.Create("");})},ListPage:{ListDataToPosts:function(cm,cn,co,cp,cq){var cr,cs,ct,cu,cv,cw,cx,cy,cz,cA;cr=[cm,cn,co,cp,cq];cs=cr[4];ct=cr[0];cu=cr[2];cv=cr[1];cw=cr[3];cx=G.LongDate(cv);cy=s.Create(G.LongDate(cu));cz=s.Create(cw);cA={Id:ct,Title:s.Create(cs),Content:cz,CreateDate:cx,EditDate:cy};return cA;},Main:function(){var cF,cG,cH,cI,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c_,c$,da,db,dg,di,dj,dk,dl,dm;w.Start(w.Delay(function(){return w.Bind(v.Async("Application2:3",[]),function(cC){z.iter(function(cD){return H.postList().Add(cD);},h.map(function(cE){return H.ListDataToPosts(cE[0],cE[1],cE[2],cE[3],cE[4]);},cC));return w.Return(null);});}),{$:0});cF={Posts:H.postList()};cG=s.Create("");cH=t.CreateOption(cG.get_View());cI=function(cJ){return cJ.$==1?v.Async("Application2:0",[cJ.$0]):w.Delay(function(){return w.Return("");});};cL=cH.get_View();cM=x.MapAsync(cI,cL);cN=p.Create("class","container");cO=y.Style("margin-top","100px");cP=z.append([cN],h.ofArray([cO]));cQ=p.Create("placeholder","Title");cR=y.Class("form-control");cS=z.append([cQ],h.ofArray([cR]));cT=p.Create("placeholder","Content");cU=y.Class("form-control");cV=z.append([cT],h.ofArray([cU]));cW=p.Create("placeholder","Search");cX=y.Class("mainsearch");cY=z.append([cW],h.ofArray([cX]));cZ=p.Create("id","blogItems");c0=y.Class("col-md-12");c1=z.append([cZ],h.ofArray([c0]));c2=p.Create("id","loginform");c3=y.Class("divhidden");c4=z.append([c2],h.ofArray([c3]));c5=y.Style("display","none");c6=z.append(h.ofArray([c3]),h.ofArray([c2]));c7=function(c8){var c9;c9={Id:c8.Id,Title:s.Create(C.Get(H.rvPostTitle())),Content:s.Create(C.Get(H.rvPostContent())),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01")};return c9.Id>0?{$:1,$0:c9}:{$:0};};c_=h.ofArray([p.Create("class","form-group")]);c$=h.ofArray([r.TextNode("Title")]);da=h.ofArray([r.TextNode("Content")]);db=h.ofArray([y.Class("btn btn-default")]);dg=function(){D("#blogItems").show();D("#loginform").removeClass("divshown").addClass("divhidden");return a?a.log(1):undefined;};di=h.ofArray([y.Class("navbar navbar-default navbar-fixed-top")]);dj=h.ofArray([y.Class("navbar-collapse collapse")]);dk=h.ofArray([y.Class("navbar-collapse collapse")]);dl=h.ofArray([y.Class("pull-right")]);dm=h.ofArray([r.Input(cY,H.rvSearch())]);return r.Element("div",cP,h.ofArray([r.Element("div",c6,h.ofArray([r.Element("div",c_,h.ofArray([r.Element("div",h.ofArray([p.Create("class","col-sm-12")]),h.ofArray([r.Element("label",[],c$)])),r.Element("div",h.ofArray([p.Create("class","col-sm-12")]),h.ofArray([r.InputArea(cS,H.rvPostTitle())])),r.Element("div",h.ofArray([p.Create("class","col-sm-12")]),h.ofArray([r.Element("label",[],da)])),r.Element("div",h.ofArray([p.Create("class","col-sm-12")]),h.ofArray([r.InputArea(cS,H.rvPostContent())])),r.Button("Save",db,function(){D("#blogItems").show();D("#loginform").removeClass("divshown").addClass("divhidden");return w.Start(w.Delay(function(){return w.Bind(v.Async("Application2:4",[C.Get(H.rvRowIndex()),C.Get(H.rvPostTitle()),C.Get(H.rvPostContent())]),function(){var df;H.postList().FindByKey(C.Get(H.rvRowIndex()));df=C.Get(H.rvRowIndex());H.postList().UpdateBy(c7,df);return w.Return(null);});}),{$:0});}),r.Button("Cancel",h.ofArray([y.Class("btn btn-default")]),dg)]))])),r.Element("div",di,h.ofArray([H["doc'nav'left"](),r.Element("div",dj,h.ofArray([r.Element("div",dk,h.ofArray([r.Element("div",dl,h.ofArray([r.Element("div",h.ofArray([y.Class("nav")]),h.ofArray([r.Element("ul",h.ofArray([y.Class("nav navbar-nav sm sm-collapsible")]),h.ofArray([r.Element("li",[],dm)])),r.EmbedView(H.loaddata())]))]))]))]))])),r.Element("div",c1,h.ofArray([r.EmbedView(x.Map(function(){return r.Convert(function(_do){return H.doc(_do);},A.View(cF.Posts));},H["v'blog"]()))]))]));},addNewBlog:$.Field(function(){var dp,dq;dp=H.iid()+1;H.iid=function(){return dp;};H.postList().Add({Id:H.iid(),Title:s.Create("New item "+B(H.iid())+" title"),Content:s.Create("44444fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01")});dq=H.iid();return a?a.log(dq):undefined;}),cls:$.Field(function(){return function(dr){return y.Class(dr);};}),doc:function(ds){var dt;dt="post-"+$$.String(ds.Id)+"-article";return r.Element("div",h.ofArray([y.Class("panel panel-primary"),p.Create("id",dt)]),h.ofArray([H["doc'header"](ds),H["doc'body"](ds)]));},"doc'body":function(du){var dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF;dv=p.Create("class","container");dw=y.Style("margin-top","100px");dx=z.append([dv],h.ofArray([dw]));dy=p.Create("placeholder","Title");dz=y.Class("form-control");dA=z.append([dy],h.ofArray([dz]));dB=h.ofArray([y.Class("panel-body")]);dC=h.ofArray([r.TextView(du.Content.get_View())]);dD=h.ofArray([r.TextView(du.EditDate.get_View())]);dE=h.ofArray([y.Class("btn btn-default")]);dF=function(){var dH;C.Set(H.rvPostContent(),C.Get(du.Content));C.Set(H.rvPostTitle(),C.Get(du.Title));dH=du.Id;C.Set(H.rvRowIndex(),dH);D("#blogItems").hide();D("#loginform").removeClass("divhidden").addClass("divshown");return a?a.log(1):undefined;};return r.Element("div",dB,h.ofArray([r.Element("div",[],dC),r.Element("p",[],dD),r.Button("New Item",dE,dF)]));},"doc'header":function(dI){var dJ;dJ=h.ofArray([r.TextView(dI.Title.get_View())]);return r.Element("div",h.ofArray([y.Class("panel-heading")]),h.ofArray([r.Element("div",[],dJ)]));},"doc'main'menu":$.Field(function(){var dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY;dK=h.ofArray([y.Class("nav navbar-nav")]);dL=h.ofArray([y.Class("dropdown open")]);dM=h.ofArray([y.Class("dropdown-menu")]);dN=h.ofArray([r.TextNode("System Configuration")]);dO=h.ofArray([r.TextNode("System Configuration")]);dP=h.ofArray([r.TextNode("System Configuration")]);dQ=h.ofArray([y.Class("dropdown open")]);dR=h.ofArray([y.Class("dropdown-menu")]);dS=h.ofArray([r.TextNode("Interface report")]);dT=h.ofArray([r.TextNode("Process Schedule Maintenance")]);dU=h.ofArray([r.TextNode("Calendar Management")]);dV=h.ofArray([r.TextNode("System Utility")]);dW=h.ofArray([r.TextNode("System Maintenance")]);dX=h.ofArray([r.TextNode("Payroll Process Management")]);dY=h.ofArray([r.TextNode("Human Resource Management")]);return r.Element("ul",dK,h.ofArray([r.Element("li",dL,h.ofArray([r.Element("a",h.ofArray([y.Class("dropdown-toggle")]),h.ofArray([r.TextNode("System Configuration")])),r.Element("ul",dM,h.ofArray([r.Element("li",[],dN),r.Element("li",[],dO),r.Element("li",[],dP)]))])),r.Element("li",dQ,h.ofArray([r.Element("a",h.ofArray([y.Class("dropdown-toggle")]),h.ofArray([r.TextNode("System Utility")])),r.Element("ul",dR,h.ofArray([r.Element("li",[],dS),r.Element("li",[],dT),r.Element("li",[],dU)]))])),r.Element("li",[],dV),r.Element("li",[],dW),r.Element("li",[],dX),r.Element("li",[],dY)]));}),"doc'nav'left":$.Field(function(){var dZ;dZ=h.ofArray([r.TextNode("jkhkjhjk")]);return r.Element("div",[],dZ);}),iid:$.Field(function(){return 5;}),loaddata:$.Field(function(){var d0,d1;d0=H["v'menu"]().get_View();d1=function(){return w.Delay(function(){var d4;d4=v.Async("Application2:1",[0,"WEBSITE"]);return w.Bind(d4,function(d5){var d6,d7,d8;d6=d5.$0;d6[4];d6[0];d6[3];d7=d6[1];d6[2];d5.$0;d8="trying to get menu from server inside ListPage"+d7;a?a.log(d8):undefined;return w.Return(r.get_Empty());});});};return x.MapAsync(d1,d0);}),postList:$.Field(function(){var d9,d$;d9=function(d_){return d_.Id<<0;};d$=$.New(k,{$:0});return E.Create(d9,d$);}),rvPostContent:$.Field(function(){return s.Create("");}),rvPostTitle:$.Field(function(){return s.Create("");}),rvRowIndex:$.Field(function(){return s.Create(0);}),rvSearch:$.Field(function(){return s.Create("");}),rvSubmit:$.Field(function(){return s.Create(null);}),"v'blog":$.Field(function(){var ea,ed;ea=function(){return w.Delay(function(){return w.Return(H.postList());});};x.get_Do();ed=F.Const(1);return x.MapAsync(ea,ed);}),"v'menu":$.Field(function(){return s.Create("");})}}});$.OnInit(function(){a=$.Safe($$.console);b=$.Safe($$.alert);c=$.Safe($$.WebSharper.Forms);d=$.Safe(c.Pervasives);e=$.Safe(c.Form1);f=$.Safe(c.Form);g=$.Safe(c.Validation);h=$.Safe($$.WebSharper.List);i=$.Safe(c.Bootstrap);j=$.Safe(i.Controls);k=$.Safe(h.T);l=$.Safe($$.Application2);m=$.Safe(l.Client);n=$.Safe($$.WebSharper.UI);o=$.Safe(n.Next);p=$.Safe(o.AttrProxy);q=$.Safe(j.Simple);r=$.Safe(o.Doc);s=$.Safe(o.Var);t=$.Safe(o.Submitter);u=$.Safe($$.WebSharper.Remoting);v=$.Safe(u.AjaxRemotingProvider);w=$.Safe($$.WebSharper.Concurrency);x=$.Safe(o.View);y=$.Safe(o.AttrModule);z=$.Safe($$.WebSharper.Seq);A=$.Safe(o.ListModel1);B=$.Safe($$.String);C=$.Safe(o.Var1);D=$.Safe($$.jQuery);E=$.Safe(o.ListModel);F=$.Safe(o.View1);G=$.Safe($$.WebSharper.DateTimeHelpers);return H=$.Safe(l.ListPage);});$.OnLoad(function(){H["v'menu"]();H["v'blog"]();H.rvSubmit();H.rvSearch();H.rvRowIndex();H.rvPostTitle();H.rvPostContent();H.postList();H.loaddata();H.iid();H["doc'nav'left"]();H["doc'main'menu"]();H.cls();H.addNewBlog();m["v'menu"]();m["v'blog"]();m.rvUsername();m.rvSubmit();m.postList();m.post2();m.post1();m.loaddata();m.iid();m["doc'nav'left"]();m["doc'main'menu"]();m.cls();m.addNewBlog();return;});}());
