(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;$.Define($$,{Application2:{Client:{LoginForm:function(){var H,K,O,P,Q,R,S;if(a){a.log("Trying to create LoginForm");}H=function(I){var J;J=I[0];I[1];I[2];return b("Welcome, "+J+"!");};O=f.Yield("");P=f.Yield("");K=d.op_LessMultiplyGreater(d.op_LessMultiplyGreater(d.op_LessMultiplyGreater(e.Return(function(L){return function(M){return function(N){return[L,M,N];};};}),g.IsNotEmpty("Must enter a username",O)),g.IsNotEmpty("Must enter a password",P)),f.Yield(false));Q=f.WithSubmit(K);R=f.Run(H,Q);S=function(){return function(U){return function(V){return function(W){var X,Y,Z,_0,_1,_2,_3,_4;Y=j.TextAreaWithError("Username - echoed");Z=$.New(k,{$:0});_0=Y(Z);_1=[m.rvUsername(),$.New(k,{$:0}),$.New(k,{$:0})];_2=_1[0];_3=_1[1];_4=_1[2];X=h.ofArray([j.Input("Username",$.New(k,{$:0}),m.rvUsername(),h.ofArray([(m.cls())("sr-only")]),h.ofArray([(m.cls())("input-lg"),p.Create("readonly","")])),q.TextAreaWithError("Username - echoed",m.rvUsername(),W.get_View()),(_0([_2,_3,_4]))(W.get_View()),q.InputWithError("Username - echoed",m.rvUsername(),W.get_View()),q.InputPasswordWithError("Password",U,W.get_View()),j.Checkbox("Keep me logged in",$.New(k,{$:0}),V,h.ofArray([(m.cls())("input-lg")]),$.New(k,{$:0})),j.Radio("This is a radio button",$.New(k,{$:0}),V,$.New(k,{$:0}),$.New(k,{$:0})),(((j.Button())("Log in"))(h.ofArray([(j.Class())("btn btn-primary")])))(function(){return W.Trigger();}),j.ShowErrors(h.ofArray([p.Create("style","margin-top:1em;")]),W.get_View())]);return r.Element("form",[],X);};};};};return e.Render(S,R);},Main:function(){var _6,_7,_8,_9,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,bC,bD;m.postList().Add(m.post1());m.postList().Add(m.post2());_6={Posts:m.postList()};_7=s.Create("");_8=t.CreateOption(_7.get_View());_9=function(_){var ba,bb;if(_.$==1){bb=_.$0;ba=v.Async("Application2:0",[bb]);}else{ba=w.Delay(function(){return w.Return("");});}return ba;};bd=_8.get_View();be=x.MapAsync(_9,bd);bf=p.Create("placeholder","Search");bg=y.Class("mainsearch");bh=z.append([bf],h.ofArray([bg]));bi=p.Create("id","blogItems");bj=y.Class("col-md-12");bk=z.append([bi],h.ofArray([bj]));bl=p.Create("id","loginform");bm=y.Class("divhidden");bn=z.append([bl],h.ofArray([bm]));bo=y.Style("visibility","hidden");bp=z.append(h.ofArray([bm]),h.ofArray([bl]));bq=h.ofArray([y.Class("container")]);br=h.ofArray([y.Class("navbar navbar-default navbar-fixed-top")]);bs=h.ofArray([y.Class("navbar-collapse collapse")]);bt=h.ofArray([y.Class("navbar-collapse collapse")]);bu=h.ofArray([y.Class("pull-right")]);bv=h.ofArray([r.Input(bh,m.rvUsername())]);bw=m.loaddata();bx=function(){var bz,bB;bz=function(bA){return m.doc(bA);};bB=A.View(_6.Posts);return r.Convert(bz,bB);};bC=m["v'blog"]();bD=x.Map(bx,bC);return r.Element("div",bq,h.ofArray([r.Element("div",br,h.ofArray([m["doc'nav'left"](),r.Element("div",bs,h.ofArray([r.Element("div",bt,h.ofArray([r.Element("div",bu,h.ofArray([r.Element("div",h.ofArray([y.Class("nav")]),h.ofArray([r.Element("ul",h.ofArray([y.Class("nav navbar-nav sm sm-collapsible")]),h.ofArray([r.Element("li",[],bv)])),r.EmbedView(bw)]))]))]))]))])),r.Element("div",bk,h.ofArray([r.EmbedView(bD)]))]));},addNewBlog:$.Field(function(){var bD,bE;bD=m.iid()+1;m.iid=function(){return bD;};m.postList().Add({Id:m.iid(),Title:s.Create("New item "+B(m.iid())+" title"),Content:s.Create("44444fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)});bE=m.iid();return a?a.log(bE):undefined;}),cls:$.Field(function(){return function(bF){return y.Class(bF);};}),doc:function(bG){var bH;bH="post-"+$$.String(bG.Id)+"-article";return r.Element("div",h.ofArray([y.Class("panel panel-primary"),p.Create("id",bH)]),h.ofArray([m["doc'header"](bG),m["doc'body"](bG)]));},"doc'body":function(bI){var bJ,bK,bL,bM,bN;bJ=h.ofArray([y.Class("panel-body")]);bK=h.ofArray([r.TextView(bI.Content.get_View())]);bL=h.ofArray([r.TextView(bI.EditDate.get_View())]);bM=h.ofArray([y.Class("btn btn-default")]);bN=function(){C.Set(m.rvUsername(),C.Get(bI.Content));D("#blogItems").hide();D("#loginform").removeClass("divhidden").addClass("divshown");return a?a.log(1):undefined;};return r.Element("div",bJ,h.ofArray([r.Element("div",[],bK),r.Element("p",[],bL),r.Button("New Item",bM,bN)]));},"doc'header":function(bP){var bQ;bQ=h.ofArray([r.TextView(bP.Title.get_View())]);return r.Element("div",h.ofArray([y.Class("panel-heading")]),h.ofArray([r.Element("div",[],bQ)]));},"doc'main'menu":$.Field(function(){var bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5;bR=h.ofArray([y.Class("nav navbar-nav")]);bS=h.ofArray([y.Class("dropdown open")]);bT=h.ofArray([y.Class("dropdown-menu")]);bU=h.ofArray([r.TextNode("System Configuration")]);bV=h.ofArray([r.TextNode("System Configuration")]);bW=h.ofArray([r.TextNode("System Configuration")]);bX=h.ofArray([y.Class("dropdown open")]);bY=h.ofArray([y.Class("dropdown-menu")]);bZ=h.ofArray([r.TextNode("Interface report")]);b0=h.ofArray([r.TextNode("Process Schedule Maintenance")]);b1=h.ofArray([r.TextNode("Calendar Management")]);b2=h.ofArray([r.TextNode("System Utility")]);b3=h.ofArray([r.TextNode("System Maintenance")]);b4=h.ofArray([r.TextNode("Payroll Process Management")]);b5=h.ofArray([r.TextNode("Human Resource Management")]);return r.Element("ul",bR,h.ofArray([r.Element("li",bS,h.ofArray([r.Element("a",h.ofArray([y.Class("dropdown-toggle")]),h.ofArray([r.TextNode("System Configuration")])),r.Element("ul",bT,h.ofArray([r.Element("li",[],bU),r.Element("li",[],bV),r.Element("li",[],bW)]))])),r.Element("li",bX,h.ofArray([r.Element("a",h.ofArray([y.Class("dropdown-toggle")]),h.ofArray([r.TextNode("System Utility")])),r.Element("ul",bY,h.ofArray([r.Element("li",[],bZ),r.Element("li",[],b0),r.Element("li",[],b1)]))])),r.Element("li",[],b2),r.Element("li",[],b3),r.Element("li",[],b4),r.Element("li",[],b5)]));}),"doc'nav'left":$.Field(function(){var b6;b6=h.ofArray([r.TextNode("jkhkjhjk")]);return r.Element("div",[],b6);}),iid:$.Field(function(){return 5;}),loaddata:$.Field(function(){var b7,b8;b7=m["v'menu"]().get_View();b8=function(){return w.Delay(function(){var b$;b$=v.Async("Application2:1",[0,"WEBSITE"]);return w.Bind(b$,function(ca){var cb,cc,cd;cb=ca.$0;cb[4];cb[0];cb[3];cc=cb[1];cb[2];ca.$0;cd="trying to get menu from server "+cc;a?a.log(cd):undefined;return w.Return(r.get_Empty());});});};return x.MapAsync(b8,b7);}),post1:$.Field(function(){return{Id:1,Title:s.Create("111ssdfds"),Content:s.Create("333fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)};}),post2:$.Field(function(){return{Id:2,Title:s.Create("222ssdfds"),Content:s.Create("44444fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)};}),postList:$.Field(function(){var ce,cg;ce=function(cf){return cf.Id<<0;};cg=$.New(k,{$:0});return E.Create(ce,cg);}),rvSubmit:$.Field(function(){return s.Create(null);}),rvUsername:$.Field(function(){return s.Create("");}),"v'blog":$.Field(function(){var ch,ck;ch=function(){return w.Delay(function(){return w.Return(m.postList());});};x.get_Do();ck=F.Const(1);return x.MapAsync(ch,ck);}),"v'menu":$.Field(function(){return s.Create("");})},ListPage:{Main:function(){var cl,cm,cn,co,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cQ,cR,cS,cT,cW,cY,cZ,c0,c1,c2;G.postList().Add(G.post1());G.postList().Add(G.post2());cl={Posts:G.postList()};cm=s.Create("");cn=t.CreateOption(cm.get_View());co=function(cp){return cp.$==1?v.Async("Application2:0",[cp.$0]):w.Delay(function(){return w.Return("");});};cr=cn.get_View();cs=x.MapAsync(co,cr);ct=p.Create("class","container");cu=y.Style("margin-top","100px");cv=z.append([ct],h.ofArray([cu]));cw=p.Create("placeholder","Title");cx=y.Class("form-control");cy=z.append([cw],h.ofArray([cx]));cz=p.Create("placeholder","Content");cA=y.Class("form-control");cB=z.append([cz],h.ofArray([cA]));cC=p.Create("placeholder","Search");cD=y.Class("mainsearch");cE=z.append([cC],h.ofArray([cD]));cF=p.Create("id","blogItems");cG=y.Class("col-md-12");cH=z.append([cF],h.ofArray([cG]));cI=p.Create("id","loginform");cJ=y.Class("divhidden");cK=z.append([cI],h.ofArray([cJ]));cL=y.Style("display","none");cM=z.append(h.ofArray([cJ]),h.ofArray([cI]));cN=function(cO){var cP;cP={Id:cO.Id,Title:s.Create(C.Get(G.rvPostTitle())),Content:s.Create(C.Get(G.rvPostContent())),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)};return cP.Id>0?{$:1,$0:cP}:{$:0};};cQ=h.ofArray([p.Create("class","form-group")]);cR=h.ofArray([r.TextNode("Title")]);cS=h.ofArray([r.TextNode("Content")]);cT=h.ofArray([y.Class("btn btn-default")]);cW=function(){D("#blogItems").show();D("#loginform").removeClass("divshown").addClass("divhidden");return a?a.log(1):undefined;};cY=h.ofArray([y.Class("navbar navbar-default navbar-fixed-top")]);cZ=h.ofArray([y.Class("navbar-collapse collapse")]);c0=h.ofArray([y.Class("navbar-collapse collapse")]);c1=h.ofArray([y.Class("pull-right")]);c2=h.ofArray([r.Input(cE,G.rvSearch())]);return r.Element("div",cv,h.ofArray([r.Element("div",cM,h.ofArray([r.Element("div",cQ,h.ofArray([r.Element("div",h.ofArray([p.Create("class","col-sm-12")]),h.ofArray([r.Element("label",[],cR)])),r.Element("div",h.ofArray([p.Create("class","col-sm-12")]),h.ofArray([r.InputArea(cy,G.rvPostTitle())])),r.Element("div",h.ofArray([p.Create("class","col-sm-12")]),h.ofArray([r.Element("label",[],cS)])),r.Element("div",h.ofArray([p.Create("class","col-sm-12")]),h.ofArray([r.InputArea(cy,G.rvPostContent())])),r.Button("Save",cT,function(){var cV;D("#blogItems").show();D("#loginform").removeClass("divshown").addClass("divhidden");D("#post-"+$$.String(C.Get(G.rvRowIndex()))+"-article").children(".panel-heading").first().children().first();G.postList().FindByKey(C.Get(G.rvRowIndex()));cV=C.Get(G.rvRowIndex());return G.postList().UpdateBy(cN,cV);}),r.Button("Cancel",h.ofArray([y.Class("btn btn-default")]),cW)]))])),r.Element("div",cY,h.ofArray([G["doc'nav'left"](),r.Element("div",cZ,h.ofArray([r.Element("div",c0,h.ofArray([r.Element("div",c1,h.ofArray([r.Element("div",h.ofArray([y.Class("nav")]),h.ofArray([r.Element("ul",h.ofArray([y.Class("nav navbar-nav sm sm-collapsible")]),h.ofArray([r.Element("li",[],c2)])),r.EmbedView(G.loaddata())]))]))]))]))])),r.Element("div",cH,h.ofArray([r.EmbedView(x.Map(function(){return r.Convert(function(c4){return G.doc(c4);},A.View(cl.Posts));},G["v'blog"]()))]))]));},addNewBlog:$.Field(function(){var c5,c6;c5=G.iid()+1;G.iid=function(){return c5;};G.postList().Add({Id:G.iid(),Title:s.Create("New item "+B(G.iid())+" title"),Content:s.Create("44444fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)});c6=G.iid();return a?a.log(c6):undefined;}),cls:$.Field(function(){return function(c7){return y.Class(c7);};}),doc:function(c8){var c9;c9="post-"+$$.String(c8.Id)+"-article";return r.Element("div",h.ofArray([y.Class("panel panel-primary"),p.Create("id",c9)]),h.ofArray([G["doc'header"](c8),G["doc'body"](c8)]));},"doc'body":function(c_){var c$,da,db,dc,dd,de,df,dg,dh,di,dj;c$=p.Create("class","container");da=y.Style("margin-top","100px");db=z.append([c$],h.ofArray([da]));dc=p.Create("placeholder","Title");dd=y.Class("form-control");de=z.append([dc],h.ofArray([dd]));df=h.ofArray([y.Class("panel-body")]);dg=h.ofArray([r.TextView(c_.Content.get_View())]);dh=h.ofArray([r.TextView(c_.EditDate.get_View())]);di=h.ofArray([y.Class("btn btn-default")]);dj=function(){var dl;C.Set(G.rvPostContent(),C.Get(c_.Content));C.Set(G.rvPostTitle(),C.Get(c_.Title));dl=c_.Id;C.Set(G.rvRowIndex(),dl);D("#blogItems").hide();D("#loginform").removeClass("divhidden").addClass("divshown");return a?a.log(1):undefined;};return r.Element("div",df,h.ofArray([r.Element("div",[],dg),r.Element("p",[],dh),r.Button("New Item",di,dj)]));},"doc'header":function(dm){var dn;dn=h.ofArray([r.TextView(dm.Title.get_View())]);return r.Element("div",h.ofArray([y.Class("panel-heading")]),h.ofArray([r.Element("div",[],dn)]));},"doc'main'menu":$.Field(function(){var _do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC;_do=h.ofArray([y.Class("nav navbar-nav")]);dp=h.ofArray([y.Class("dropdown open")]);dq=h.ofArray([y.Class("dropdown-menu")]);dr=h.ofArray([r.TextNode("System Configuration")]);ds=h.ofArray([r.TextNode("System Configuration")]);dt=h.ofArray([r.TextNode("System Configuration")]);du=h.ofArray([y.Class("dropdown open")]);dv=h.ofArray([y.Class("dropdown-menu")]);dw=h.ofArray([r.TextNode("Interface report")]);dx=h.ofArray([r.TextNode("Process Schedule Maintenance")]);dy=h.ofArray([r.TextNode("Calendar Management")]);dz=h.ofArray([r.TextNode("System Utility")]);dA=h.ofArray([r.TextNode("System Maintenance")]);dB=h.ofArray([r.TextNode("Payroll Process Management")]);dC=h.ofArray([r.TextNode("Human Resource Management")]);return r.Element("ul",_do,h.ofArray([r.Element("li",dp,h.ofArray([r.Element("a",h.ofArray([y.Class("dropdown-toggle")]),h.ofArray([r.TextNode("System Configuration")])),r.Element("ul",dq,h.ofArray([r.Element("li",[],dr),r.Element("li",[],ds),r.Element("li",[],dt)]))])),r.Element("li",du,h.ofArray([r.Element("a",h.ofArray([y.Class("dropdown-toggle")]),h.ofArray([r.TextNode("System Utility")])),r.Element("ul",dv,h.ofArray([r.Element("li",[],dw),r.Element("li",[],dx),r.Element("li",[],dy)]))])),r.Element("li",[],dz),r.Element("li",[],dA),r.Element("li",[],dB),r.Element("li",[],dC)]));}),"doc'nav'left":$.Field(function(){var dD;dD=h.ofArray([r.TextNode("jkhkjhjk")]);return r.Element("div",[],dD);}),iid:$.Field(function(){return 5;}),loaddata:$.Field(function(){var dE,dF;dE=G["v'menu"]().get_View();dF=function(){return w.Delay(function(){var dI;dI=v.Async("Application2:1",[0,"WEBSITE"]);return w.Bind(dI,function(dJ){var dK,dL,dM;dK=dJ.$0;dK[4];dK[0];dK[3];dL=dK[1];dK[2];dJ.$0;dM="trying to get menu from server inside ListPage"+dL;a?a.log(dM):undefined;return w.Return(r.get_Empty());});});};return x.MapAsync(dF,dE);}),post1:$.Field(function(){return{Id:1,Title:s.Create("111ssdfds"),Content:s.Create("333fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)};}),post2:$.Field(function(){return{Id:2,Title:s.Create("222ssdfds"),Content:s.Create("44444fsfsdf"),CreateDate:"2015-01-01",EditDate:s.Create("2015-01-01"),Num:s.Create(1),EditedTitle:s.Create("dsadsdsa"),EditedContent:s.Create("dsadsad"),IsEditMode:s.Create(false)};}),postList:$.Field(function(){var dN,dP;dN=function(dO){return dO.Id<<0;};dP=$.New(k,{$:0});return E.Create(dN,dP);}),rvPostContent:$.Field(function(){return s.Create("");}),rvPostTitle:$.Field(function(){return s.Create("");}),rvRowIndex:$.Field(function(){return s.Create(0);}),rvSearch:$.Field(function(){return s.Create("");}),rvSubmit:$.Field(function(){return s.Create(null);}),"v'blog":$.Field(function(){var dQ,dT;dQ=function(){return w.Delay(function(){return w.Return(G.postList());});};x.get_Do();dT=F.Const(1);return x.MapAsync(dQ,dT);}),"v'menu":$.Field(function(){return s.Create("");})}}});$.OnInit(function(){a=$.Safe($$.console);b=$.Safe($$.alert);c=$.Safe($$.WebSharper.Forms);d=$.Safe(c.Pervasives);e=$.Safe(c.Form1);f=$.Safe(c.Form);g=$.Safe(c.Validation);h=$.Safe($$.WebSharper.List);i=$.Safe(c.Bootstrap);j=$.Safe(i.Controls);k=$.Safe(h.T);l=$.Safe($$.Application2);m=$.Safe(l.Client);n=$.Safe($$.WebSharper.UI);o=$.Safe(n.Next);p=$.Safe(o.AttrProxy);q=$.Safe(j.Simple);r=$.Safe(o.Doc);s=$.Safe(o.Var);t=$.Safe(o.Submitter);u=$.Safe($$.WebSharper.Remoting);v=$.Safe(u.AjaxRemotingProvider);w=$.Safe($$.WebSharper.Concurrency);x=$.Safe(o.View);y=$.Safe(o.AttrModule);z=$.Safe($$.WebSharper.Seq);A=$.Safe(o.ListModel1);B=$.Safe($$.String);C=$.Safe(o.Var1);D=$.Safe($$.jQuery);E=$.Safe(o.ListModel);F=$.Safe(o.View1);return G=$.Safe(l.ListPage);});$.OnLoad(function(){G["v'menu"]();G["v'blog"]();G.rvSubmit();G.rvSearch();G.rvRowIndex();G.rvPostTitle();G.rvPostContent();G.postList();G.post2();G.post1();G.loaddata();G.iid();G["doc'nav'left"]();G["doc'main'menu"]();G.cls();G.addNewBlog();m["v'menu"]();m["v'blog"]();m.rvUsername();m.rvSubmit();m.postList();m.post2();m.post1();m.loaddata();m.iid();m["doc'nav'left"]();m["doc'main'menu"]();m.cls();m.addNewBlog();return;});}());
