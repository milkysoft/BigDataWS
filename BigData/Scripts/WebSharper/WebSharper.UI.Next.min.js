(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt;$.Define($$,{WebSharper:{UI:{Next:{Abbrev:{Async:{Schedule:function(bu){var bv;bv=a.Delay(function(){return a.Return(bu(null));});return a.Start(bv,{$:0});},StartTo:function(bw,bx){return a.StartWithContinuations(bw,bx,function(){},function(){},{$:0});}},Dict:{ToKeyArray:function(bA){var bB,bC;bB=b(bA.count);bC=function(bD){return function(bE){return c.set(bB,bD,bE.K);};};d.iteri(bC,bA);return bB;},ToValueArray:function(bF){var bG,bH;bG=b(bF.count);bH=function(bI){return function(bJ){return c.set(bG,bI,bJ.V);};};d.iteri(bH,bF);return bG;}},Fresh:{Id:function(){var bK;bK=h.counter()+1;h.counter=function(){return bK;};return"uid"+$$.String(h.counter());},Int:function(){var bL;bL=h.counter()+1;h.counter=function(){return bL;};return h.counter();},counter:$.Field(function(){return 0;})},HashSet:{Except:function(bM,bN){var bO;bO=j.New(k.ToArray(bN));bO.ExceptWith(k.ToArray(bM));return bO;},Filter:function(bP,bQ){var bR;bR=k.ToArray(bQ);return j.New(c.filter(bP,bR));},Intersect:function(bS,bT){var bU;bU=j.New(k.ToArray(bS));bU.IntersectWith(k.ToArray(bT));return bU;},ToArray:function(bV){var bW;bW=b(bV.get_Count());bV.CopyTo(bW);return bW;}},JQueue:{Add:function($x,$q){var $0=this,$this=this;return $q.push($x);},Count:function(bX){return bX.length;},Dequeue:function($q){var $0=this,$this=this;return $q.shift();},Iter:function(bY,bZ){return c.iter(bY,l.ToArray(bZ));},ToArray:function(b0){return b0.slice();}},Mailbox:{StartProcessor:function(b1){var b2,b3,b4,b$,cc;b2=[];b3=[false];b4=a.Delay(function(){return a.Combine(a.While(function(){return l.Count(b2)>0;},a.Delay(function(){var b8;b8=l.Dequeue(b2);return a.Bind(b1(b8),function(){return a.Return(null);});})),a.Delay(function(){return a.Return(void(b3[0]=false));}));});b$=function(){var cb;if(!b3[0]){b3[0]=true;cb=a.Start(b4,{$:0});}else{cb=null;}return cb;};cc=function(cd){l.Add(cd,b2);return b$(null);};return cc;}},Slot1:$.Class({Equals:function(ce){return m.Equals(this.key.call(null,this.value),this.key.call(null,ce.get_Value()));},GetHashCode:function(){return m.Hash(this.key.call(null,this.value));},get_Value:function(){return this.value;}},{Create:function(cf,cg){return n.New(cf,cg);},New:function(ch,ci){var cj;cj=$.New(this,{});cj.key=ch;cj.value=ci;return cj;}}),U:function(){return;}},An:$.Class({},{Append:function(ck,cl){var cm,cn;cm=ck.$0;cn=cl.$0;return $.New(o,{$:0,$0:p.Append(cm,cn)});},Concat:function(co){var cp,cr;cp=d.map(function(cq){return q.List(cq);},co);cr=p.Concat(cp);return $.New(o,{$:0,$0:cr});},Const:function(cs){return q.Const(cs);},Delayed:function(ct,cu,cv,cw,cx,cy){var cz;cz=cv+cw;return{Compute:function(cA){var cB,cC;if(cA<=cw){cB=cx;}else{cC=cu.TransformTime.call(null,(cA-cw)/cv);cB=ct.Interpolate(cC,cx,cy);}return cB;},Duration:cz};},Map:function(cD,cE){var cF;cF=cE.Compute;return q.Def(cE.Duration,function(cG){return cD(cF(cG));});},Pack:function(cH){return $.New(o,{$:0,$0:p.Single({$:1,$0:cH})});},Play:function(cI){return a.Delay(function(){var cK,cM;cK=function(){};cM=q.Actions(cI);return a.Bind(o.Run(cK,cM),function(){return a.Return(q.Finalize(cI));});});},Run:function(cO,cP){var cQ,cR;cQ=cP.Duration;cR=function(cS){var cT,cU,cV,cW,c3;cT=cS[0];cU=cS[1];cV=cS[2];cW=function(cX,cY){var cZ,c0,c1;cZ=cY-cX;cO(cP.Compute.call(null,cZ));if(cZ<=cQ){c1=r(function(c2){return cW(cX,c2);});c0=void c1;}else{c0=cT(null);}return c0;};c3=r(function(c4){return cW(c4,c4);});return;};return a.FromContinuations(cR);},Simple:function(c5,c6,c7,c8,c9){return{Compute:function(c_){var c$;c$=c6.TransformTime.call(null,c_/c7);return c5.Interpolate(c$,c8,c9);},Duration:c7};},WhenDone:function(da,db){var dc;dc=$.New(o,{$:0,$0:p.Single({$:0,$0:da})});return o.Append(dc,db);},get_Empty:function(){return $.New(o,{$:0,$0:p.Empty()});}}),AnimatedAttrNode:$.Class({GetChangeAnim:function(dd){var de,df,dh=this,di,dj,dk,dl,dm,dn,_do,dp,dr,ds;de=[this.visible,this.logical];df=function(){return dh.sync(dd);};if(de[0].$==1){if(de[1].$==1){de[0].$0;de[1].$0;if(dh.dirty){dm=de[1].$0;dn=de[0].$0;_do=dh.tr;dp=function(dq){return dh.pushVisible(dd,dq);};dr=s.AnimateChange(_do,dn,dm);ds=o.Map(dp,dr);dl=o.Pack(ds);}else{dl=o.get_Empty();}dk=dl;}else{dk=o.get_Empty();}dj=dk;}else{dj=o.get_Empty();}di=dj;return o.WhenDone(df,di);},GetEnterAnim:function(dt){var du,dv,dx=this,dy,dz,dA,dB,dC,dD,dE,dF,dH,dI,dJ,dK,dL,dM,dN,dP,dQ,dR,dS,dT,dU,dV,dX,dY,dZ,d0,d1,d2,d3,d5,d6;du=[this.visible,this.logical];dv=function(){return dx.sync(dt);};if(du[0].$==1){if(du[1].$==1){du[0].$0;du[1].$0;if(dx.dirty){dC=du[1].$0;dD=du[0].$0;dE=dx.tr;dF=function(dG){return dx.pushVisible(dt,dG);};dH=s.AnimateChange(dE,dD,dC);dI=o.Map(dF,dH);dB=o.Pack(dI);}else{if(du[0].$==0){if(du[1].$==1){dL=du[1].$0;dM=dx.tr;dN=function(dO){return dx.pushVisible(dt,dO);};dP=s.AnimateEnter(dM,dL);dQ=o.Map(dN,dP);dK=o.Pack(dQ);}else{dK=o.get_Empty();}dJ=dK;}else{dJ=o.get_Empty();}dB=dJ;}dA=dB;}else{if(du[0].$==0){if(du[1].$==1){dT=du[1].$0;dU=dx.tr;dV=function(dW){return dx.pushVisible(dt,dW);};dX=s.AnimateEnter(dU,dT);dY=o.Map(dV,dX);dS=o.Pack(dY);}else{dS=o.get_Empty();}dR=dS;}else{dR=o.get_Empty();}dA=dR;}dz=dA;}else{if(du[0].$==0){if(du[1].$==1){d1=du[1].$0;d2=dx.tr;d3=function(d4){return dx.pushVisible(dt,d4);};d5=s.AnimateEnter(d2,d1);d6=o.Map(d3,d5);d0=o.Pack(d6);}else{d0=o.get_Empty();}dZ=d0;}else{dZ=o.get_Empty();}dz=dZ;}dy=dz;return o.WhenDone(dv,dy);},GetExitAnim:function(d7){var d8,d9,d$=this,ea,eb,ec,ed,ee,eg,eh;d8=this.visible;d9=function(){d$.dirty=true;d$.visible={$:0};return;};if(d8.$==1){ec=d8.$0;ed=d$.tr;ee=function(ef){return d$.pushVisible(d7,ef);};eg=s.AnimateExit(ed,ec);eh=o.Map(ee,eg);eb=o.Pack(eh);}else{eb=o.get_Empty();}ea=eb;return o.WhenDone(d9,ea);},Init:function(){return null;},Sync:function(){return null;},get_Changed:function(){return this.updates;},pushVisible:function(ek,el){this.visible={$:1,$0:el};this.dirty=true;return(this.push.call(null,ek))(el);},sync:function(em){var en;if(this.dirty){t.iter(this.push.call(null,em),this.logical);this.visible=this.logical;en=void(this.dirty=false);}else{en=null;}return en;}},{New:function(eo,ep,eq){var er,es;er=$.New(this,{});er.tr=eo;er.push=eq;er.logical={$:0};er.visible={$:0};er.dirty=true;es=function(et){er.logical={$:1,$0:et};er.dirty=true;return;};er.updates=u.Map(es,ep);return er;}}),Anims:{Actions:function(eu){var ev,ew,eA,eB;ev=eu.$0;ew=function(ex){var ey,ez;if(ex.$==1){ez=ex.$0;ey={$:1,$0:ez};}else{ey={$:0};}return ey;};eA=p.ToArray(ev);eB=c.choose(ew,eA);return q.ConcatActions(eB);},ConcatActions:function(eC){var eD,eE,eF,eG,eI,eJ,eK;eD=d.toArray(eC);eE=c.length(eD);if(eE===0){eF=q.Const(null);}else{if(eE===1){eF=c.get(eD,0);}else{eG=function(eH){return eH.Duration;};eI=d.map(eG,eD);eJ=d.max(eI);eK=c.map(function(eL){return q.Prolong(eJ,eL);},eD);eF=q.Def(eJ,function(eM){return c.iter(function(eN){return eN.Compute.call(null,eM);},eK);});}}return eF;},Const:function(eO){return q.Def(0,function(){return eO;});},Def:function(eQ,eR){return{Compute:eR,Duration:eQ};},Finalize:function(eS){var eT,eU,eY;eT=eS.$0;eU=function(eV){var eW,eX;if(eV.$==0){eX=eV.$0;eW=eX(null);}else{eW=null;}return eW;};eY=p.ToArray(eT);return c.iter(eU,eY);},List:function(eZ){var e0;e0=eZ.$0;return e0;},Prolong:function(e1,e2){var e3,e4,e5,e7;e3=e2.Compute;e4=e2.Duration;e5=v.Create(function(){return e2.Compute.call(null,e2.Duration);});e7=function(e8){return e8>=e4?e5.eval():e3(e8);};return{Compute:e7,Duration:e1};}},AppendList1:{Append:function(e9,e_){var e$,fa,fb,fc,fd;e$=[e9,e_];if(e$[0].$==0){fb=e$[1];fa=fb;}else{if(e$[1].$==0){fd=e$[0];fc=fd;}else{fc={$:2,$0:e9,$1:e_};}fa=fc;}return fa;},Concat:function(fe){var ff,fg,fi,fj;ff=d.toArray(fe);fg=function(fh){return fh;};fi=p.Empty();fj=function(fk){return function(fl){return p.Append(fk,fl);};};return w.MapReduce(fg,fi,fj,ff);},Empty:function(){return{$:0};},FromArray:function(fm){var fn;fn=fm.length;return fn===0?{$:0}:fn===1?{$:1,$0:c.get(fm,0)}:{$:3,$0:fm.slice()};},Single:function(fo){return{$:1,$0:fo};},ToArray:function(fp){var fq,fr;fq=[];fr=function(fs){var ft,fu,fv,fw,fx;if(fs.$==1){fu=fs.$0;ft=l.Add(fu,fq);}else{if(fs.$==2){fv=fs.$1;fw=fs.$0;fr(fw);ft=fr(fv);}else{if(fs.$==3){fx=fs.$0;ft=c.iter(function(fy){return l.Add(fy,fq);},fx);}else{ft=null;}}}return ft;};fr(fp);return l.ToArray(fq);}},Array:{MapReduce:function(fz,fA,fB,fC){var fD;fD=function(fE,fF){var fG,fH,fI,fJ,fK,fL,fM,fN,fO;if(fF<=0){fG=fA;}else{if(fF===1){if(fE>=0?fE<c.length(fC):false){fI=fz(c.get(fC,fE));}else{fJ=fF/2>>0;fK=fD(fE,fJ);fL=fD(fE+fJ,fF-fJ);fI=(fB(fK))(fL);}fH=fI;}else{fM=fF/2>>0;fN=fD(fE,fM);fO=fD(fE+fM,fF-fM);fH=(fB(fN))(fO);}fG=fH;}return fG;};return fD(0,c.length(fC));}},AttrModule:{Animated:function(fP,fQ,fR,fS){return x.Animated(fQ,fR,function(fT){return function(fU){return y.SetAttr(fT,fP,fS(fU));};});},AnimatedStyle:function(fV,fW,fX,fY){return x.Animated(fW,fX,function(fZ){return function(f0){return y.SetStyle(fZ,fV,fY(f0));};});},Class:function(f1){return x.Static(function(f2){return y.AddClass(f2,f1);});},ContentEditableHtml:function(f3){var f4,f8;f4=z.CustomVar(f3,function(f5){return function(f6){f5.innerHTML=f6;};},function(f7){return{$:1,$0:f7.innerHTML};});f8=A.Create("contenteditable","true");return A.Append(f8,f4);},ContentEditableText:function(f9){var f_,gc;f_=z.CustomVar(f9,function(f$){return function(ga){f$.textContent=ga;};},function(gb){return{$:1,$0:gb.textContent};});gc=A.Create("contenteditable","true");return A.Append(gc,f_);},CustomValue:function(gd,ge,gf){return z.CustomVar(gd,function(gg){return function(gh){gg.value=ge(gh);};},function(gi){return gf(gi.value);});},CustomVar:function(gj,gk,gl){var gm,gu;gm=function(gn){return function(){return gj.UpdateMaybe(function(gp){var gq,gr,gs,gt;gq=gl(gn);if(gq.$==1){gs=gq.$0;if(!m.Equals(gs,gp)){gq.$0;gt=gq;}else{gt={$:0};}gr=gt;}else{gr={$:0};}return gr;});};};gu=function(gv){return function(gw){var gx,gy,gz,gA;gx=gl(gv);if(gx.$==1){gz=gx.$0;if(m.Equals(gz,gw)){gx.$0;gA=null;}else{gA=(gk(gv))(gw);}gy=gA;}else{gy=(gk(gv))(gw);}return gy;};};return A.Concat(B.ofArray([z.Handler("change",gm),z.Handler("input",gm),z.Handler("keypress",gm),z.DynamicCustom(gu,gj.get_View())]));},Dynamic:function(gB,gC){return x.Dynamic(gC,function(){},function(gE){return function(gF){return y.SetAttr(gE,gB,gF);};});},DynamicClass:function(gG,gH,gI){return x.Dynamic(gH,function(){},function(gK){return function(gL){return gI(gL)?y.AddClass(gK,gG):y.RemoveClass(gK,gG);};});},DynamicCustom:function(gM,gN){return x.Dynamic(gN,function(){},gM);},DynamicPred:function(gP,gQ,gR){var gS,gX,g0;gS=function(gT){return function(gU){var gV,gW;gV=gU[0];gW=gU[1];return gV?y.SetAttr(gT,gP,gW):y.RemoveAttr(gT,gP);};};gX=function(gY){return function(gZ){return[gY,gZ];};};g0=u.Map2(gX,gQ,gR);return x.Dynamic(g0,function(){},gS);},DynamicProp:function(g2,g3){return x.Dynamic(g3,function(){},function(g5){return function(g6){g5[g2]=g6;};});},DynamicStyle:function(g7,g8){return x.Dynamic(g8,function(){},function(g_){return function(g$){return y.SetStyle(g_,g7,g$);};});},Handler:function(ha,hb){return x.Static(function(hc){return hc.addEventListener(ha,hb(hc),false);});},HandlerView:function(hd,he,hf){var hg,hh,hl;hg=h.Id();hh=function(hi){var hj;hj=hf(hi);return hi.addEventListener(hd,function(hk){return(hj(hk))(hi[hg]);},false);};hl=function(hm){return function(hn){hm[hg]=hn;};};return x.Dynamic(he,hh,hl);},OnAfterRender:function(ho){return x.Mk(0,{$:4,$0:ho});},Style:function(hp,hq){return x.Static(function(hr){return y.SetStyle(hr,hp,hq);});},ValidateForm:function(){return z.OnAfterRender(function(hs){return $$.H5F?$$.H5F.setup(hs):undefined;});},Value:function(ht){return z.CustomValue(ht,function(hu){return hu;},function(hv){return{$:1,$0:hv};});}},AttrProxy:$.Class({},{Append:function(hw,hx){return x.Mk(hw.Flags|hx.Flags,x.AppendTree(hw.Tree,hx.Tree));},Concat:function(hy){var hz,hA,hC,hD;hz=d.toArray(hy);hA=function(hB){return hB;};hC=A.get_Empty();hD=function(hE){return function(hF){return A.Append(hE,hF);};};return w.MapReduce(hA,hC,hD,hz);},Create:function(hG,hH){return x.Static(function(hI){return y.SetAttr(hI,hG,hH);});},Handler:function(hJ,hK){return x.Static(function(hL){return hL.addEventListener(hJ,hK(hL),false);});},get_Empty:function(){return x.EmptyAttr();}}),Attrs:{Animated:function(hM,hN,hO){var hP,hQ;hP=C.New(hM,hN,hO);hQ=4;s.CanAnimateEnter(hM)?hQ=hQ|1:null;s.CanAnimateExit(hM)?hQ=hQ|2:null;return x.Mk(hQ,{$:1,$0:hP});},AppendTree:function(hR,hS){var hT,hU,hV,hW,hX;hT=[hR,hS];if(hT[0].$==0){hV=hT[1];hU=hV;}else{if(hT[1].$==0){hX=hT[0];hW=hX;}else{hW={$:2,$0:hR,$1:hS};}hU=hW;}return hU;},Dynamic:function(hY,hZ,h0){var h1;h1={$:1,$0:D.New(hY,hZ,h0)};return x.Mk(0,h1);},EmptyAttr:$.Field(function(){return x.Mk(0,{$:0});}),GetAnim:function(h2,h3){var h4,h6,h7;h4=function(h5){return(h3(h5))(h2.DynElem);};h6=h2.DynNodes;h7=c.map(h4,h6);return o.Concat(h7);},GetChangeAnim:function(h8){return x.GetAnim(h8,function(h9){return function(h_){return h9.GetChangeAnim(h_);};});},GetEnterAnim:function(h$){return x.GetAnim(h$,function(ia){return function(ib){return ia.GetEnterAnim(ib);};});},GetExitAnim:function(ic){return x.GetAnim(ic,function(id){return function(ie){return id.GetExitAnim(ie);};});},HasChangeAnim:function(_if){return(_if.DynFlags&4)!==0;},HasEnterAnim:function(ig){return(ig.DynFlags&1)!==0;},HasExitAnim:function(ih){return(ih.DynFlags&2)!==0;},Insert:function(ii,ij){var ik,il,im,iu;ik=[];il=[];im=function(_in){var io,ip,iq,ir,is,it;if(_in.$==1){ip=_in.$0;ip.Init(ii);io=l.Add(ip,ik);}else{if(_in.$==2){iq=_in.$1;ir=_in.$0;im(ir);io=im(iq);}else{if(_in.$==3){is=_in.$0;io=is(ii);}else{if(_in.$==4){it=_in.$0;io=l.Add(it,il);}else{io=null;}}}}return io;};im(ij.Tree);iu=l.ToArray(ik);return $.DeleteEmptyFields({DynElem:ii,DynFlags:ij.Flags,DynNodes:iu,OnAfterRender:(l.Count(il)===0?{$:0}:{$:1,$0:function(iv){return l.Iter(function(iw){return iw(iv);},il);}}).$0},["OnAfterRender"]);},Mk:function(ix,iy){return $.New(A,{Flags:ix,Tree:iy});},Static:function(iz){return x.Mk(0,{$:3,$0:iz});},Sync:function(iA,iB){var iC,iE;iC=function(iD){return iD.Sync(iA);};iE=iB.DynNodes;return c.iter(iC,iE);},Updates:function(iF){var iG,iM,iN,iP;iG=function(iH){return function(iI){var iJ;iJ=function(){return function(){return null;};};return u.Map2(iJ,iH,iI);};};iM=iF.DynNodes;iN=function(iO){return iO.get_Changed();};iP=E.Const(null);return w.MapReduce(iN,iP,iG,iM);}},CheckedInput:$.Class({get_Input:function(){var iQ,iR,iS,iT;if(this.$==1){iR=this.$0;iQ=iR;}else{if(this.$==2){iS=this.$0;iQ=iS;}else{iT=this.$1;iQ=iT;}}return iQ;}}),Doc:$.Class({ReplaceInDom:function(iU){var iV,iW;iV=F.createTextNode("");iW=iU.parentNode.replaceChild(iV,iU);return G.RunBefore(iV,this);},get_DocNode:function(){return this.docNode;},get_Updates:function(){return this.updates;}},{Append:function(iX,iY){var iZ,i2,i3,i4,i5;iZ=function(){return function(){return null;};};i2=iX.get_Updates();i3=iY.get_Updates();i4=u.Map2(iZ,i2,i3);i5={$:0,$0:iX.get_DocNode(),$1:iY.get_DocNode()};return G.Mk(i5,i4);},Async:function(i6){var i7,i9,i_;i7=function(i8){return i8;};i9=E.Const(i6);i_=u.MapAsync(i7,i9);return G.EmbedView(i_);},BindView:function(i$,ja){return G.EmbedView(u.Map(i$,ja));},Button:function(jb,jc,jd){var je,jf,jg;je=A.Concat(jc);jf=G.Clickable("button",jd);jg=G.TextNode(jb);return H.New(jf,je,jg);},ButtonView:function(jh,ji,jj,jk){var jl,jo,jp,jq;jl=z.HandlerView("click",jj,function(){return function(){return jk;};});jo=A.Concat(d.append([jl],ji));jp=y.CreateElement("button");jq=G.TextNode(jh);return H.New(jp,jo,jq);},CheckBox:function(jr,js){var jt,ju,jw,jA;jt=y.CreateElement("input");ju=function(){return js.Set(jt.checked);};jt.addEventListener("click",ju,false);jw=A.Concat(d.toList(d.delay(function(){return d.append(jr,d.delay(function(){return d.append([A.Create("type","checkbox")],d.delay(function(){return[z.DynamicProp("checked",js.get_View())];}));}));})));jA=G.get_Empty();return H.New(jt,jw,jA);},CheckBoxGroup:function(jB,jC,jD){var jE,jF,jL,jN,jP,jQ,jR,jS,jT,jU,jV,jY;jE=jD.get_View();jF=function(jG){return jD.Update(function(jH){var jI,jK;jI=jG?B.append(jH,B.ofArray([jC])):B.filter(function(jJ){return!m.Equals(jJ,jC);},jH);jK=I.distinct(jI);return d.toList(jK);});};jL=function(jM){return m.Equals(jM,jC);};jN=function(jO){return d.exists(jL,jO);};jP=u.Map(jN,jE);jR=jD.get_Id();jS=h.Id();jQ=B.append(B.ofArray([A.Create("type","checkbox"),A.Create("name",jR),A.Create("value",jS),z.DynamicProp("checked",jP)]),B.ofSeq(jB));jT=A.Concat(jQ);jU=y.CreateElement("input");jV=function(){var jX;jX=jU.checked;return jF(jX);};jU.addEventListener("click",jV,false);jY=G.get_Empty();return H.New(jU,jT,jY);},Clickable:function(jZ,j0){var j1;j1=y.CreateElement(jZ);j1.addEventListener("click",function(j2){j2.preventDefault();return j0(null);},false);return j1;},Concat:function(j3){var j4,j5,j7,j8;j4=d.toArray(j3);j5=function(j6){return j6;};j7=G.get_Empty();j8=function(j9){return function(j_){return G.Append(j9,j_);};};return w.MapReduce(j5,j7,j8,j4);},Convert:function(j$,ka){var kb;kb=u.MapSeqCached(j$,ka);return G.Flatten(kb);},ConvertBy:function(kc,kd,ke){var kf;kf=u.MapSeqCachedBy(kc,kd,ke);return G.Flatten(kf);},ConvertSeq:function(kg,kh){var ki;ki=u.MapSeqCachedView(kg,kh);return G.Flatten(ki);},ConvertSeqBy:function(kj,kk,kl){var km;km=u.MapSeqCachedViewBy(kj,kk,kl);return G.Flatten(km);},Element:function(kn,ko,kp){var kq,kr,ks;kq=A.Concat(ko);kr=G.Concat(kp);ks=y.CreateElement(kn);return H.New(ks,kq,kr);},EmbedView:function(kt){var ku,kv,kx,kz,kA,kB;ku=J.CreateEmbedNode();kv=function(kw){J.UpdateEmbedNode(ku,kw.get_DocNode());return kw.get_Updates();};kx=function(){};kz=E.Bind(kv,kt);kA=u.Map(kx,kz);kB={$:2,$0:ku};return G.Mk(kB,kA);},Flatten:function(kC){var kD,kF;kD=function(kE){return G.Concat(kE);};kF=u.Map(kD,kC);return G.EmbedView(kF);},FloatInput:function(kG,kH){var kI,kO;kI=function(kJ){return function(kK){var kL,kM,kN;if(K.isBlank(kK)){kM=(kJ.checkValidity?kJ.checkValidity():true)?$.New(L,{$:2,$0:kK}):$.New(L,{$:1,$0:kK});}else{kN=+kK;kM=$$.isNaN(kN)?$.New(L,{$:1,$0:kK}):$.New(L,{$:0,$0:kN,$1:kK});}kL=kM;return{$:1,$0:kL};};};kO=function(kP){return d.append(kG,[z.CustomValue(kH,function(kQ){return kQ.get_Input();},kI(kP)),A.Create("type","number")]);};return G.InputInternal("input",kO);},FloatInputUnchecked:function(kR,kS){var kT,kX;kT=function(kU){var kV,kW;if(K.isBlank(kU)){kV={$:1,$0:0};}else{kW=+kU;kV=$$.isNaN(kW)?{$:0}:{$:1,$0:kW};}return kV;};kX=function(){return d.append(kR,[kS.Get()===0?A.Create("value","0"):A.get_Empty(),z.CustomValue(kS,function(kZ){return $$.String(kZ);},kT),A.Create("type","number")]);};return G.InputInternal("input",kX);},Input:function(k0,k1){var k2;k2=function(){return d.append(k0,[z.Value(k1)]);};return G.InputInternal("input",k2);},InputArea:function(k4,k5){var k6;k6=function(){return d.append(k4,[z.Value(k5)]);};return G.InputInternal("textarea",k6);},InputInternal:function(k8,k9){var k_,k$,la;k_=y.CreateElement(k8);k$=A.Concat(k9(k_));la=G.get_Empty();return H.New(k_,k$,la);},IntInput:function(lb,lc){var ld,lj;ld=function(le){return function(lf){var lg,lh,li;if(K.isBlank(lf)){lh=(le.checkValidity?le.checkValidity():true)?$.New(L,{$:2,$0:lf}):$.New(L,{$:1,$0:lf});}else{li=+lf;lh=$$.isNaN(li)?$.New(L,{$:1,$0:lf}):$.New(L,{$:0,$0:li,$1:lf});}lg=lh;return{$:1,$0:lg};};};lj=function(lk){return d.append(lb,[z.CustomValue(lc,function(ll){return ll.get_Input();},ld(lk)),A.Create("type","number"),A.Create("step","1")]);};return G.InputInternal("input",lj);},IntInputUnchecked:function(lm,ln){var lo,ls;lo=function(lp){var lq,lr;if(K.isBlank(lp)){lq={$:1,$0:0};}else{lr=+lp;lq=lr!==lr>>0?{$:0}:{$:1,$0:lr};}return lq;};ls=function(){return d.append(lm,[ln.Get()===0?A.Create("value","0"):A.get_Empty(),z.CustomValue(ln,function(lu){return $$.String(lu);},lo),A.Create("type","number"),A.Create("step","1")]);};return G.InputInternal("input",ls);},Link:function(lv,lw,lx){var ly,lz,lA,lB,lC;ly=A.Concat(lw);lz=A.Create("href","#");lA=A.Append(lz,ly);lB=G.Clickable("a",lx);lC=G.TextNode(lv);return H.New(lB,lA,lC);},LinkView:function(lD,lE,lF,lG){var lH,lK,lL,lM;lH=z.HandlerView("click",lF,function(){return function(){return lG;};});lK=A.Concat(d.append([lH,A.Create("href","#")],lE));lL=y.CreateElement("a");lM=G.TextNode(lD);return H.New(lL,lK,lM);},Mk:function(lN,lO){return G.New(lN,lO);},New:function(lP,lQ){var lR;lR=$.New(this,{});lR.docNode=lP;lR.updates=lQ;return lR;},PasswordBox:function(lS,lT){var lU;lU=function(){return d.append(lS,[z.Value(lT),A.Create("type","password")]);};return G.InputInternal("input",lU);},Radio:function(lW,lX,lY){var lZ,l1,l3,l4,l5,l6,l9,l_,l$;lZ=y.CreateElement("input");lZ.addEventListener("click",function(){return lY.Set(lX);},false);l1=function(l2){return m.Equals(l2,lX);};l3=lY.get_View();l4=u.Map(l1,l3);l5=z.DynamicProp("checked",l4);l6=function(l7,l8){return A.Create(l7,l8);};l9=B.append(B.ofArray([l6("type","radio"),l6("name",lY.get_Id()),l5]),B.ofSeq(lW));l_=A.Concat(l9);l$=G.get_Empty();return H.New(lZ,l_,l$);},Run:function(ma,mb){var mc,md,me,mg;mc=mb.get_DocNode();J.LinkElement(ma,mc);md=J.CreateRunState(ma,mc);me=M.StartProcessor(function(){return J.PerformAnimatedUpdate(md,mc);});mg=mb.get_Updates();return E.Sink(me,mg);},RunAfter:function(mh,mi){var mj,mk;mj=F.createTextNode("");mk=mh.parentNode.insertBefore(mj,mh.nextSibling);return G.RunBetween(mh,mj,mi);},RunAfterById:function(ml,mm){var mn;mn=y.Doc().getElementById(ml);return m.Equals(mn,null)?N.FailWith("invalid id: "+ml):G.RunAfter(mn,mm);},RunAppend:function(mo,mp){var mq,mr;mq=F.createTextNode("");mr=mo.appendChild(mq);return G.RunBefore(mq,mp);},RunAppendById:function(ms,mt){var mu;mu=y.Doc().getElementById(ms);return m.Equals(mu,null)?N.FailWith("invalid id: "+ms):G.RunAppend(mu,mt);},RunBefore:function(mv,mw){var mx,my;mx=F.createTextNode("");my=mv.parentNode.insertBefore(mx,mv);return G.RunBetween(mx,mv,mw);},RunBeforeById:function(mz,mA){var mB;mB=y.Doc().getElementById(mz);return m.Equals(mB,null)?N.FailWith("invalid id: "+mz):G.RunBefore(mB,mA);},RunBetween:function(mC,mD,mE){var mF,mG,mI;J.LinkPrevElement(mD,mE.get_DocNode());mF=J.CreateDelimitedRunState(mC,mD,mE.get_DocNode());mG=M.StartProcessor(function(){return J.PerformAnimatedUpdate(mF,mE.get_DocNode());});mI=mE.get_Updates();return E.Sink(mG,mI);},RunById:function(mJ,mK){var mL;mL=y.Doc().getElementById(mJ);return m.Equals(mL,null)?N.FailWith("invalid id: "+mJ):G.Run(mL,mK);},RunPrepend:function(mM,mN){var mO,mP;mO=F.createTextNode("");mP=mM.insertBefore(mO,mM.firstChild);return G.RunBefore(mO,mN);},RunPrependById:function(mQ,mR){var mS;mS=y.Doc().getElementById(mQ);return m.Equals(mS,null)?N.FailWith("invalid id: "+mQ):G.RunPrepend(mS,mR);},Select:function(mT,mU,mV,mW){var mX;mX=E.Const(mV);return G.SelectDyn(mT,mU,mX,mW);},SelectDyn:function(mY,mZ,m0,m1){var m2,m3,m5,m8,m$,nd,ne,nf,ng,nk,np,nq,ny,nz,nA,nB,nD;m2=[$.New(O,{$:0})];m3=function(m4){return m4.selectedIndex;};m5=function(m6){var m7;m7=m3(m6);return m2[0].get_Item(m7);};m8=function(m9){return d.findIndex(function(m_){return m.Equals(m9,m_);},m2[0]);};m$=function(na){return function(nb){var nc;nc=m8(nb);na.selectedIndex=nc;return;};};nd=y.CreateElement("select");ne=m1.get_View();nf=z.DynamicCustom(m$,ne);ng=function(){return m1.UpdateMaybe(function(ni){var nj;nj=m5(nd);return m.Equals(ni,nj)?{$:0}:{$:1,$0:nj};});};nd.addEventListener("change",ng,false);nk=function(nl){var nm;m2[0]=nl;nm=function(nn){return function(no){return[nn,no];};};return d.mapi(nm,nl);};np=u.Map(nk,m0);nq=function(nr){var ns,nt,nu,nv,nw,nx;ns=nr[0];nt=nr[1];nu=G.TextNode(mZ(nt));nw=$$.String(ns);nv=B.ofArray([A.Create("value",nw)]);nx=B.ofArray([nu]);return G.Element("option",nv,nx);};ny=G.Convert(nq,np);nz=A.Concat(mY);nA=A.Append(nf,nz);nB=z.OnAfterRender(function(nC){return(m$(nC))(m1.Get());});nD=A.Append(nB,nA);return H.New(nd,nD,ny);},SelectDynOptional:function(nE,nF,nG,nH,nI){var nJ,nN,nQ;nJ=function(nK){var nL,nM;if(nK.$==1){nM=nK.$0;nL=nG(nM);}else{nL=nF;}return nL;};nN=function(nO){return $.New(O,{$:1,$0:{$:0},$1:B.map(function(nP){return{$:1,$0:nP};},nO)});};nQ=u.Map(nN,nH);return G.SelectDyn(nE,nJ,nQ,nI);},SelectOptional:function(nR,nS,nT,nU,nV){var nW,n0;nW=function(nX){var nY,nZ;if(nX.$==1){nZ=nX.$0;nY=nT(nZ);}else{nY=nS;}return nY;};n0=$.New(O,{$:1,$0:{$:0},$1:B.map(function(n1){return{$:1,$0:n1};},nU)});return G.Select(nR,nW,n0,nV);},Static:function(n2){var n3,n4;n3=A.get_Empty();n4=G.get_Empty();return H.New(n2,n3,n4);},SvgElement:function(n5,n6,n7){var n8,n9,n_;n8=A.Concat(n6);n9=G.Concat(n7);n_=y.CreateSvgElement(n5);return H.New(n_,n8,n9);},TextNode:function(n$){var oa,ob;oa={$:5,$0:y.CreateText(n$)};ob=E.Const(null);return G.Mk(oa,ob);},TextView:function(oc){var od,oe,og,oh;od=J.CreateTextNode();oe=function(of){return J.UpdateTextNode(od,of);};og=u.Map(oe,oc);oh={$:4,$0:od};return G.Mk(oh,og);},Verbatim:function(oi){var oj,ok,ol,on,oq,or;oj=P.parseHTML(oi);ok=m.Equals(oj,null)?[]:oj;ol=function(om){return{$:1,$0:J.CreateElemNode(om,A.get_Empty(),{$:3})};};on=function(oo){return function(op){return{$:0,$0:oo,$1:op};};};oq=w.MapReduce(ol,{$:3},on,ok);or=E.Const(null);return G.Mk(oq,or);},get_Empty:function(){var os,ot;os={$:3};ot=E.Const(null);return G.Mk(os,ot);}}),DocElemNode:$.Class({Equals:function(ou){return this.ElKey===ou.ElKey;},GetHashCode:function(){return this.ElKey;}}),Docs:{ComputeChangeAnim:function(ov,ow){var ox,oz,oB,oC,oD,oE,oG,oH;ox=function(oy){return x.HasChangeAnim(oy.Attr);};oz=function(oA){return Q.Filter(ox,oA);};oB=oz(ov.PreviousNodes);oC=oz(ow);oD=Q.Intersect(oB,oC);oE=function(oF){return x.GetChangeAnim(oF.Attr);};oG=Q.ToArray(oD);oH=c.map(oE,oG);return o.Concat(oH);},ComputeEnterAnim:function(oI,oJ){var oK,oM,oN,oO,oP,oR,oS;oK=function(oL){return x.HasEnterAnim(oL.Attr);};oM=oI.PreviousNodes;oN=Q.Filter(oK,oJ);oO=Q.Except(oM,oN);oP=function(oQ){return x.GetEnterAnim(oQ.Attr);};oR=Q.ToArray(oO);oS=c.map(oP,oR);return o.Concat(oS);},ComputeExitAnim:function(oT,oU){var oV,oX,oZ,o0,o1,o2,o3;oV=function(oW){return x.HasExitAnim(oW.Attr);};oX=function(oY){return x.GetExitAnim(oY.Attr);};oZ=oT.PreviousNodes;o0=Q.Filter(oV,oZ);o1=Q.Except(oU,o0);o2=Q.ToArray(o1);o3=c.map(oX,o2);return o.Concat(o3);},CreateDelimitedElemNode:function(o4,o5,o6,o7){var o8,o9;o8=o4.parentNode;J.LinkPrevElement(o5,o7);o9=x.Insert(o8,o6);return $.New(R,$.DeleteEmptyFields({Attr:o9,Children:o7,Delimiters:[o4,o5],El:o8,ElKey:h.Int(),Render:$.GetOptional(o9.OnAfterRender).$0},["Render"]));},CreateDelimitedRunState:function(o_,o$,pa){return{PreviousNodes:Q.get_Empty(),Top:J.CreateDelimitedElemNode(o_,o$,A.get_Empty(),pa)};},CreateElemNode:function(pb,pc,pd){var pe;J.LinkElement(pb,pd);pe=x.Insert(pb,pc);return $.New(R,$.DeleteEmptyFields({Attr:pe,Children:pd,El:pb,ElKey:h.Int(),Render:$.GetOptional(pe.OnAfterRender).$0},["Render"]));},CreateEmbedNode:function(){return{Current:{$:3},Dirty:false};},CreateRunState:function(pf,pg){return{PreviousNodes:Q.get_Empty(),Top:J.CreateElemNode(pf,A.get_Empty(),pg)};},CreateTextNode:function(){return{Text:y.CreateText(""),Dirty:false,Value:""};},DoSyncElement:function(ph){var pi,pj,pu,pv,pw,px,py,pz,pB,pC,pD,pE,pF,pG;pi=ph.El;pj=function(pk,pl){var pm,pn,po,pp,pq,pr,ps,pt;if(pk.$==1){pn=pk.$0;pm={$:1,$0:pn.El};}else{if(pk.$==2){po=pk.$0;if(po.Dirty){po.Dirty=false;pp=J.InsertDoc(pi,po.Current,pl);}else{pp=pj(po.Current,pl);}pm=pp;}else{if(pk.$==3){pm=pl;}else{if(pk.$==4){pq=pk.$0;pm={$:1,$0:pq.Text};}else{if(pk.$==5){pr=pk.$0;pm={$:1,$0:pr};}else{ps=pk.$1;pt=pk.$0;pm=pj(pt,pj(ps,pl));}}}}}return pm;};pu=S.DocChildren(ph);pv=ph.El;pw=$.GetOptional(ph.Delimiters);px=S.Children(pv,pw);py=ph.El;pz=function(pA){return y.RemoveNode(py,pA);};pB=S.Except(pu,px);S.Iter(pz,pB);pC=$.GetOptional(ph.Delimiters);if(pC.$==1){pF=pC.$0[1];pE={$:1,$0:pF};}else{pE={$:0};}pD=pE;pG=pj(ph.Children,pD);return;},DomNodes:$.Class({},{Children:function(pH,pI){var pJ,pK,pL,pM,pN,pO,pP;if(pI.$==1){pK=pI.$0[1];pL=pI.$0[0];pM=b.prototype.constructor.apply(b,[]);pN=pL.nextSibling;while(pN!==pK){pO=pM.push(pN);pN=pN.nextSibling;}pJ=$.New(S,{$:0,$0:pM});}else{pP=pH.childNodes;pJ=$.New(S,{$:0,$0:c.init(pH.childNodes.length,function(pQ){return pP[pQ];})});}return pJ;},DocChildren:function(pR){var pS,pT;pS=[];pT=function(pU){var pV,pW,pX,pY,pZ,p0,p1;if(pU.$==2){pW=pU.$0;pV=pT(pW.Current);}else{if(pU.$==1){pX=pU.$0;pV=l.Add(pX.El,pS);}else{if(pU.$==3){pV=null;}else{if(pU.$==5){pY=pU.$0;pV=l.Add(pY,pS);}else{if(pU.$==4){pZ=pU.$0;pV=l.Add(pZ.Text,pS);}else{p0=pU.$1;p1=pU.$0;pT(p1);pV=pT(p0);}}}}}return pV;};pT(pR.Children);return $.New(S,{$:0,$0:l.ToArray(pS)});},Except:function(p2,p3){var p4,p5,p6,p_;p4=p2.$0;p5=p3.$0;p6=function(p7){var p8;p8=function(p9){return!(p7===p9);};return d.forall(p8,p4);};p_=c.filter(p6,p5);return $.New(S,{$:0,$0:p_});},FoldBack:function(p$,qa,qb){var qc;qc=qa.$0;return c.foldBack(p$,qc,qb);},Iter:function(qd,qe){var qf;qf=qe.$0;return c.iter(qd,qf);}}),InsertDoc:function(qg,qh,qi){var qj,qk,ql,qm,qn,qo,qp;if(qh.$==1){qk=qh.$0;qj=J.InsertNode(qg,qk.El,qi);}else{if(qh.$==2){ql=qh.$0;ql.Dirty=false;qj=J.InsertDoc(qg,ql.Current,qi);}else{if(qh.$==3){qj=qi;}else{if(qh.$==4){qm=qh.$0;qj=J.InsertNode(qg,qm.Text,qi);}else{if(qh.$==5){qn=qh.$0;qj=J.InsertNode(qg,qn,qi);}else{qo=qh.$1;qp=qh.$0;qj=J.InsertDoc(qg,qp,J.InsertDoc(qg,qo,qi));}}}}}return qj;},InsertNode:function(qq,qr,qs){y.InsertAt(qq,qs,qr);return{$:1,$0:qr};},LinkElement:function(qt,qu){var qv;qv=J.InsertDoc(qt,qu,{$:0});return;},LinkPrevElement:function(qw,qx){var qy;qy=J.InsertDoc(qw.parentNode,qx,{$:1,$0:qw});return;},NodeSet:$.Class({},{Except:function(qz,qA){var qB,qC;qB=qz.$0;qC=qA.$0;return $.New(Q,{$:0,$0:k.Except(qB,qC)});},Filter:function(qD,qE){var qF;qF=qE.$0;return $.New(Q,{$:0,$0:k.Filter(qD,qF)});},FindAll:function(qG){var qH,qI;qH=[];qI=function(qJ){var qK,qL,qM,qN,qO;if(qJ.$==0){qL=qJ.$1;qM=qJ.$0;qI(qM);qK=qI(qL);}else{if(qJ.$==1){qN=qJ.$0;l.Add(qN,qH);qK=qI(qN.Children);}else{if(qJ.$==2){qO=qJ.$0;qK=qI(qO.Current);}else{qK=null;}}}return qK;};qI(qG);return $.New(Q,{$:0,$0:j.New(l.ToArray(qH))});},Intersect:function(qP,qQ){var qR,qS;qR=qP.$0;qS=qQ.$0;return $.New(Q,{$:0,$0:k.Intersect(qR,qS)});},IsEmpty:function(qT){var qU;qU=qT.$0;return qU.get_Count()===0;},ToArray:function(qV){var qW;qW=qV.$0;return k.ToArray(qW);},get_Empty:function(){return $.New(Q,{$:0,$0:j.New11()});}}),PerformAnimatedUpdate:function(qX,qY){return a.Delay(function(){var q0,q1,q2,q3;q0=Q.FindAll(qY);q1=J.ComputeChangeAnim(qX,q0);q2=J.ComputeEnterAnim(qX,q0);q3=J.ComputeExitAnim(qX,q0);return a.Bind(o.Play(o.Append(q1,q3)),function(){J.SyncElemNode(qX.Top);return a.Bind(o.Play(q2),function(){return a.Return(void(qX.PreviousNodes=q0));});});});},Sync:function(q6){var q7;q7=function(q8){var q9,q_,q$,ra,rb,rc,rd;if(q8.$==1){q_=q8.$0;J.SyncElement(q_);q9=q7(q_.Children);}else{if(q8.$==2){q$=q8.$0;q9=q7(q$.Current);}else{if(q8.$==3){q9=null;}else{if(q8.$==5){q9=null;}else{if(q8.$==4){ra=q8.$0;if(ra.Dirty){ra.Text.nodeValue=ra.Value;rb=void(ra.Dirty=false);}else{rb=null;}q9=rb;}else{rc=q8.$1;rd=q8.$0;q7(rd);q9=q7(rc);}}}}}return q9;};return q7(q6);},SyncElemNode:function(re){J.SyncElement(re);return J.Sync(re.Children);},SyncElement:function(rf){var rg,ro,rp,rq;rg=function(rh){var ri;ri=function(rj){var rk,rl,rm,rn;if(rj.$==0){rl=rj.$1;rm=rj.$0;rk=ri(rm)?true:ri(rl);}else{if(rj.$==2){rn=rj.$0;rk=rn.Dirty?true:ri(rn.Current);}else{rk=false;}}return rk;};return ri(rh.Children);};x.Sync(rf.El,rf.Attr);rg(rf)?J.DoSyncElement(rf):null;ro=$.GetOptional(rf.Render);if(ro.$==1){rq=ro.$0;rq(rf.El);rp=void(delete rf.Render);}else{rp=null;}return rp;},UpdateEmbedNode:function(rr,rs){rr.Current=rs;rr.Dirty=true;return;},UpdateTextNode:function(rt,ru){rt.Value=ru;rt.Dirty=true;return;}},DomUtility:{AddClass:function(rv,rw){var rx;rx=P(rv).addClass(rw);return;},AppendTo:function(ry,rz){var rA;rA=ry.appendChild(rz);return;},Clear:function(rB){var rC;while(rB.hasChildNodes()){rC=rB.removeChild(rB.firstChild);}return;},ClearAttrs:function(rD){var rE;while(rD.hasAttributes()){rE=rD.removeAttributeNode(rD.attributes.item(0));}return;},CreateAttr:function(rF,rG){var rH;rH=y.Doc().createAttribute(rF);rH.value=rG;return rH;},CreateElement:function(rI){return y.Doc().createElement(rI);},CreateSvgElement:function(rJ){return y.Doc().createElementNS("http://www.w3.org/2000/svg",rJ);},CreateText:function(rK){return y.Doc().createTextNode(rK);},Doc:$.Field(function(){return F;}),InsertAt:function(rL,rM,rN){var rO,rR,rS,rT,rU,rV,rW,rX,rY,rZ,r0,r1,r2,r3;rO=function(rP){var rQ;rQ=rP.nextSibling;return m.Equals(rQ,null)?{$:0}:{$:1,$0:rQ};};if(rN.parentNode===rL){rT=rO(rN);rU=[rM,rT];if(rU[0].$==1){if(rU[1].$==1){rX=rU[0].$0;rY=rU[1].$0;rW=rX===rY;}else{rW=false;}rV=rW;}else{rV=rU[1].$==0?true:false;}rS=rV;}else{rS=false;}rR=rS;if(!rR){if(rM.$==1){r1=rM.$0;r2=rL.insertBefore(rN,r1);r0=void r2;}else{r3=rL.appendChild(rN);r0=void r3;}rZ=r0;}else{rZ=null;}return rZ;},RemoveAttr:function(r4,r5){return r4.removeAttribute(r5);},RemoveClass:function(r6,r7){var r8;r8=P(r6).removeClass(r7);return;},RemoveNode:function(r9,r_){var r$,sa;if(r_.parentNode===r9){sa=r9.removeChild(r_);r$=void sa;}else{r$=null;}return r$;},SetAttr:function(sb,sc,sd){return sb.setAttribute(sc,sd);},SetProperty:function($target,$name,$value){var $0=this,$this=this;return $target.setProperty($name,$value);},SetStyle:function(se,sf,sg){return y.SetProperty(se.style,sf,sg);}},DoubleInterpolation:$.Class({Interpolate:function(sh,si,sj){return si+sh*(sj-si);}}),DynamicAttrNode:$.Class({GetChangeAnim:function(){return o.get_Empty();},GetEnterAnim:function(){return o.get_Empty();},GetExitAnim:function(){return o.get_Empty();},Init:function(sn){return this.init.call(null,sn);},Sync:function(so){var sp;if(this.dirty){(this.push.call(null,so))(this.value);sp=void(this.dirty=false);}else{sp=null;}return sp;},get_Changed:function(){return this.updates;}},{New:function(sq,sr,ss){var st,su;st=$.New(this,{});st.init=sr;st.push=ss;st.value=g.U();st.dirty=true;su=function(sv){st.value=sv;st.dirty=true;return;};st.updates=u.Map(su,sq);return st;}}),Easing:$.Class({},{Custom:function(sw){return $.New(T,{TransformTime:sw});},get_CubicInOut:function(){return U.CubicInOut();}}),Easings:{CubicInOut:$.Field(function(){var sx;sx=function(sy){var sz,sA;sz=sy*sy;sA=sz*sy;return 3*sz-2*sA;};return $.New(T,{TransformTime:sx});})},Elt:$.Class({AddClass:function($cls){var $this=this;return $this.elt.className+=" "+$cls;},Append:function(sB){var sC,sD,sE,sH,sI,sJ;sC=this.get_DocElemNode();sC.Children={$:0,$0:sC.Children,$1:sB.get_DocNode()};sD=this.rvUpdates;sE=function(){return function(){return null;};};sH=V.Get(this.rvUpdates);sI=sB.get_Updates();V.Set(sD,u.Map2(sE,sH,sI));sJ=J.InsertDoc(this.elt,sB.get_DocNode(),{$:0});return;},Clear:function(){var sK;this.get_DocElemNode().Children={$:3};V.Set(this.rvUpdates,E.Const(null));while(this.elt.hasChildNodes()){sK=this.elt.removeChild(this.elt.firstChild);}return;},GetAttribute:function(sL){return this.elt.getAttribute(sL);},GetProperty:function(sM){return this.elt[sM];},GetText:function(){return this.elt.textContent;},GetValue:function(){return this.elt.value;},HasAttribute:function(sN){return this.elt.hasAttribute(sN);},HasClass:function(sO){return(new W("(\\s|^)"+sO+"(\\s|$)")).test(this.elt.className);},Html:function(){return this.elt.outerHTML;},Id:function(){return this.elt.id;},OnAfterRender:function(sP){var sQ,sR,sS;sQ=$.GetOptional(this.get_DocElemNode().Render);if(sQ.$==1){sS=sQ.$0;sR={$:1,$0:function(sT){sS(sT);return sP(sT);}};}else{sR={$:1,$0:sP};}$.SetOptional(this.get_DocElemNode(),"Render",sR);return this;},Prepend:function(sU){var sV,sW,sX,s0,s1,s2,s3,s4;sV=this.get_DocElemNode();sV.Children={$:0,$0:sU.get_DocNode(),$1:sV.Children};sW=this.rvUpdates;sX=function(){return function(){return null;};};s0=V.Get(this.rvUpdates);s1=sU.get_Updates();V.Set(sW,u.Map2(sX,s0,s1));s2=this.elt.firstChild;s3=m.Equals(s2,null)?{$:0}:{$:1,$0:s2};s4=J.InsertDoc(this.elt,sU.get_DocNode(),s3);return;},RemoveAttribute:function(s5){return this.elt.removeAttribute(s5);},RemoveClass:function(s6){this.elt.className=this.elt.className.replace(new W("(\\s|^)"+s6+"(\\s|$)")," ");},SetAttribute:function(s7,s8){return this.elt.setAttribute(s7,s8);},SetProperty:function(s9,s_){this.elt[s9]=s_;},SetStyle:function(s$,ta){this.elt.style[s$]=ta;},SetText:function(tb){this.get_DocElemNode().Children={$:3};V.Set(this.rvUpdates,E.Const(null));this.elt.textContent=tb;return;},SetValue:function(tc){this.elt.value=tc;},get_DocElemNode:function(){var td,te,tf;td=this.docNode1;if(td.$==1){tf=td.$0;te=tf;}else{te=N.FailWith("Elt: Invalid docNode");}return te;},get_Element:function(){return this.elt;},on:function(tg,th){this.elt.addEventListener(tg,th(this.elt),false);return this;}},{New:function(ti,tj,tk){var tl,tm,tn,to,tr,tt,tu;tl=J.CreateElemNode(ti,tj,tk.get_DocNode());tm=X.Create(tk.get_Updates());tn=x.Updates(tl.Attr);to=function(){return function(){return null;};};tr=function(ts){return u.Map2(to,tn,ts);};tt=tm.get_View();tu=E.Bind(tr,tt);return H.New1({$:1,$0:tl},tu,ti,tm,tn);},New1:function(tv,tw,tx,ty){var tA;tA=$.New(this,G.New(tv,tw));tA.docNode1=tv;tA.elt=tx;tA.rvUpdates=ty;return tA;}}),Flow:$.Class({},{get_Do:function(){return Y.New();}}),Flow1:$.Class({},{Bind:function(tB,tC){return{Render:function(tD){return function(tE){return(tB.Render.call(null,tD))(function(tF){return(tC(tF).Render.call(null,tD))(tE);});};}};},Define:function(tG){return{Render:function(tH){return function(tI){var tJ;tJ=tG(tI);return V.Set(tH,tJ);};}};},Embed:function(tK){var tL;tL=X.Create(G.get_Empty());(tK.Render.call(null,tL))(function(){});return G.EmbedView(tL.get_View());},Map:function(tN,tO){return{Render:function(tP){return function(tQ){return(tO.Render.call(null,tP))(function(tR){return tQ(tN(tR));});};}};},Return:function(tS){return{Render:function(){return function(tU){return tU(tS);};}};},Static:function(tV){return{Render:function(tW){return function(tX){V.Set(tW,tV);return tX(null);};}};}}),FlowBuilder:$.Class({Bind:function(tY,tZ){return Z.Bind(tY,tZ);},Return:function(t0){return Z.Return(t0);},ReturnFrom:function(t1){return t1;}},{New:function(){return $.New(this,{});}}),Html:{attr:$.Class({},{New:function(){return $.New(this,{});}})},Input:{ActivateButtonListener:$.Field(function(){var t2,t_;t2=function(t3,t4){var t5,t6,t7,t8,t9;t5=t3.button;if(t5===0){t7=_0.MouseBtnSt1().Left;t6=V.Set(t7,t4);}else{if(t5===1){t8=_0.MouseBtnSt1().Middle;t6=V.Set(t8,t4);}else{if(t5===2){t9=_0.MouseBtnSt1().Right;t6=V.Set(t9,t4);}else{t6=null;}}}return t6;};if(!_0.MouseBtnSt1().Active){_0.MouseBtnSt1().Active=true;F.addEventListener("mousedown",function(t$){return t2(t$,true);},false);t_=F.addEventListener("mouseup",function(ua){return t2(ua,false);},false);}else{t_=null;}return t_;}),ActivateKeyListener:$.Field(function(){var ub,uc,ui;if(!_0.KeyListenerState().KeyListenerActive){uc=P(F).keydown(function(ud){var ue,uf,ug;ue=ud.which;uf=_0.KeyListenerState().LastPressed;V.Set(uf,ue);ug=V.Get(_0.KeyListenerState().KeysPressed);return!d.exists(function(uh){return uh===ue;},ug)?V.Set(_0.KeyListenerState().KeysPressed,B.append(ug,B.ofArray([ue]))):null;});ui=P(F).keyup(function(uj){var uk,ul,um,uo;uk=uj.which;ul=_0.KeyListenerState().KeysPressed;um=function(un){return un!==uk;};uo=function(up){return B.filter(um,up);};return V.Update(ul,uo);});ub=void ui;}else{ub=null;}return ub;}),KeyListenerState:$.Field(function(){return{KeysPressed:X.Create($.New(O,{$:0})),KeyListenerActive:false,LastPressed:X.Create(-1)};}),Keyboard:$.Class({},{IsPressed:function(uq){var ur;_0.ActivateKeyListener();ur=function(us){return us===uq;};return u.Map(function(ut){return d.exists(ur,ut);},_0.KeyListenerState().KeysPressed.get_View());},get_KeysPressed:function(){_0.ActivateKeyListener();return _0.KeyListenerState().KeysPressed.get_View();},get_LastPressed:function(){_0.ActivateKeyListener();return _0.KeyListenerState().LastPressed.get_View();}}),Mouse:$.Class({},{get_LeftPressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt1().Left.get_View();},get_MiddlePressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt1().Middle.get_View();},get_MousePressed:function(){_0.ActivateButtonListener();return E.Apply(E.Apply(E.Apply(E.Const(function(uu){return function(uv){return function(uw){return(uu?true:uv)?true:uw;};};}),_0.MouseBtnSt1().Left.get_View()),_0.MouseBtnSt1().Middle.get_View()),_0.MouseBtnSt1().Right.get_View());},get_Position:function(){var ux,uB;ux=function(uy){var uz,uA;uz=_0.MousePosSt1().PosV;uA=[uy.clientX,uy.clientY];return V.Set(uz,uA);};if(!_0.MousePosSt1().Active){F.addEventListener("mousemove",ux,false);uB=void(_0.MousePosSt1().Active=true);}else{uB=null;}return _0.MousePosSt1().PosV.get_View();},get_RightPressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt1().Right.get_View();}}),MouseBtnSt1:$.Field(function(){return{Active:false,Left:X.Create(false),Middle:X.Create(false),Right:X.Create(false)};}),MousePosSt1:$.Field(function(){return{Active:false,PosV:X.Create([0,0])};})},Interpolation1:$.Class({},{get_Double:function(){return $.New(_1,{$:0});}}),Key:$.Class({},{Fresh:function(){return $.New(_2,{$:0,$0:h.Int()});}}),ListModel:$.Class({Add:function(uC){var uD,uE,uF,uG,uI=this,uJ;uD=V.Get(this.Var);if(!_3.Contains(this.get_Key(),uC,uD)){uF=this.Storage;uE=V.Set(this.Var,uF.Add(uC,uD));}else{uG=c.findINdex(function(uH){return m.Equals((uI.get_Key())(uH),(uI.get_Key())(uC));},uD);uJ=uI.Storage;uE=V.Set(uI.Var,uJ.SetAt(uG,uC,uD));}return uE;},Clear:function(){return V.Set(this.Var,this.Storage.Set(d.empty()));},ContainsKey:function(uK){var uM=this;return d.exists(function(uL){return m.Equals(uM.key.call(null,uL),uK);},V.Get(uM.Var));},ContainsKeyAsView:function(uN){var uO,uQ=this,uR,uT;uO=function(uP){return m.Equals(uQ.key.call(null,uP),uN);};uR=function(uS){return d.exists(uO,uS);};uT=uQ.Var.get_View();return u.Map(uR,uT);},Find:function(uU){return c.find(uU,V.Get(this.Var));},FindAsView:function(uV){var uW,uY;uW=function(uX){return c.find(uV,uX);};uY=this.Var.get_View();return u.Map(uW,uY);},FindByKey:function(uZ){var u1=this;return c.find(function(u0){return m.Equals(u1.key.call(null,u0),uZ);},V.Get(u1.Var));},FindByKeyAsView:function(u2){var u3,u5=this,u6,u8;u3=function(u4){return m.Equals(u5.key.call(null,u4),u2);};u6=function(u7){return c.find(u3,u7);};u8=u5.Var.get_View();return u.Map(u6,u8);},Iter:function(u9){return c.iter(u9,V.Get(this.Var));},Lens:function(u_){var u$,vb;u$=function(va){return va;};vb=function(){return function(vd){return vd;};};return this.LensInto(u$,vb,u_);},LensInto:function(ve,vf,vg){return _4.New(this,vg,ve,vf);},Remove:function(vh){var vi,vj,vk,vl,vm,vn;vi=V.Get(this.Var);if(_3.Contains(this.key,vh,vi)){vk=this.key;vl=vk(vh);vm=this.Storage;vn=function(vo){return!m.Equals(vk(vo),vl);};vj=V.Set(this.Var,vm.RemoveIf(vn,vi));}else{vj=null;}return vj;},RemoveBy:function(vp){var vq,vr,vs,vv;vq=this.Var;vr=this.Storage;vs=function(vt){var vu;vu=vp(vt);return!vu;};vv=V.Get(this.Var);return V.Set(vq,vr.RemoveIf(vs,vv));},RemoveByKey:function(vw){var vx,vy,vz,vB=this,vC;vx=this.Var;vy=this.Storage;vz=function(vA){return!m.Equals((vB.get_Key())(vA),vw);};vC=V.Get(vB.Var);return V.Set(vx,vy.RemoveIf(vz,vC));},Set:function(vD){return V.Set(this.Var,this.Storage.Set(vD));},TryFind:function(vE){return c.tryFind(vE,V.Get(this.Var));},TryFindAsView:function(vF){var vG,vI;vG=function(vH){return c.tryFind(vF,vH);};vI=this.Var.get_View();return u.Map(vG,vI);},TryFindByKey:function(vJ){var vL=this;return c.tryFind(function(vK){return m.Equals(vL.key.call(null,vK),vJ);},V.Get(vL.Var));},TryFindByKeyAsView:function(vM){var vN,vP=this,vQ,vS;vN=function(vO){return m.Equals(vP.key.call(null,vO),vM);};vQ=function(vR){return c.tryFind(vN,vR);};vS=vP.Var.get_View();return u.Map(vQ,vS);},UpdateAll:function(vT){var vU,vV,v3=this;vU=this.Var;vV=function(vW){var vX;vX=function(vY){return function(vZ){var v0,v2;v0=function(v1){return c.set(vW,vY,v1);};v2=vT(vZ);return t.iter(v0,v2);};};c.iteri(vX,vW);return v3.Storage.Set(vW);};return V.Update(vU,vV);},UpdateBy:function(v4,v5){var v6,v7,v9=this,v_,v$,wa,wb,wc,wd;v6=V.Get(this.Var);v7=c.tryFindIndex(function(v8){return m.Equals(v9.key.call(null,v8),v5);},v6);if(v7.$==1){v$=v7.$0;wa=v4(c.get(v6,v$));if(wa.$==1){wc=wa.$0;wd=v9.Storage;wb=V.Set(v9.Var,wd.SetAt(v$,wc,v6));}else{wb=null;}v_=wb;}else{v_=null;}return v_;},get_Key:function(){return this.key;},get_Length:function(){return c.length(V.Get(this.Var));},get_LengthAsView:function(){var we,wg;we=function(wf){return c.length(wf);};wg=this.Var.get_View();return u.Map(we,wg);},get_View:function(){return this.view;}},{Create:function(wh,wi){var wj,wk;wj=d.toArray(wi);wk=_5.InMemory(wj);return _6.CreateWithStorage(wh,wk);},CreateWithStorage:function(wl,wm){var wn,wo,wp,wq,wt,wu;wn=I.distinctBy(wl,wm.Init());wo=d.toArray(wn);wp=X.Create(wo);wq=function(wr){var ws;ws=wm.Set(wr);return wr.slice();};wt=wp.get_View();wu=u.Map(wq,wt);return $.New(_6,{key:wl,Var:wp,Storage:wm,view:wu});},FromSeq:function(wv){var ww;ww=function(wx){return wx;};return _6.Create(ww,wv);}}),ListModel1:$.Class({},{Key:function(wy){return wy.key;},View:function(wz){return wz.view;}}),ListModels:{Contains:function(wA,wB,wC){var wD;wD=wA(wB);return d.exists(function(wE){return m.Equals(wA(wE),wD);},wC);}},Model:$.Class({get_View:function(){return _7.View(this);}},{Create:function(wF,wG){var wH,wI,wJ;wH=X.Create(wG);wI=wH.get_View();wJ=u.Map(wF,wI);return $.New(_7,{$:0,$0:wH,$1:wJ});},Update:function(wK,wL){var wM,wN;wM=wL.$0;wN=function(wO){wK(wO);return wO;};return V.Update(wM,wN);},View:function(wP){var wQ;wQ=wP.$1;return wQ;}}),ReactiveExtensions:$.Class({},{New:function(){return $.New(this,{});}}),RefImpl:$.Class({Get:function(){return this.get.call(null,this.baseRef.Get());},Set:function(wR){var wT=this;return this.baseRef.Update(function(wS){return(wT.update.call(null,wS))(wR);});},Update:function(wU){var wW=this;return this.baseRef.Update(function(wV){return(wW.update.call(null,wV))(wU(wW.get.call(null,wV)));});},UpdateMaybe:function(wX){var wZ=this;return this.baseRef.UpdateMaybe(function(wY){return t.map(wZ.update.call(null,wY),wX(wZ.get.call(null,wY)));});},get_Id:function(){return this.id;},get_View:function(){var w0,w1;w0=this.get;w1=this.baseRef.get_View();return u.Map(w0,w1);}},{New:function(w2,w3,w4){var w5;w5=$.New(this,{});w5.baseRef=w2;w5.get=w3;w5.update=w4;w5.id=h.Id();return w5;}}),RefImpl1:$.Class({Get:function(){return this.get.call(null,this.m.FindByKey(this.key));},Set:function(w6){var w7,w8,w_=this,w$;w7=this.m;w8=function(w9){return{$:1,$0:(w_.update.call(null,w9))(w6)};};w$=w_.key;return w7.UpdateBy(w8,w$);},Update:function(xa){var xb,xc,xe=this,xf;xb=this.m;xc=function(xd){return{$:1,$0:(xe.update.call(null,xd))(xa(xe.get.call(null,xd)))};};xf=xe.key;return xb.UpdateBy(xc,xf);},UpdateMaybe:function(xg){var xh,xi,xk=this,xl;xh=this.m;xi=function(xj){return t.map(xk.update.call(null,xj),xg(xk.get.call(null,xj)));};xl=xk.key;return xh.UpdateBy(xi,xl);},get_Id:function(){return this.id;},get_View:function(){var xm,xn;xm=this.get;xn=this.m.FindByKeyAsView(this.key);return u.Map(xm,xn);}},{New:function(xo,xp,xq,xr){var xs;xs=$.New(this,{});xs.m=xo;xs.key=xp;xs.get=xq;xs.update=xr;xs.id=h.Id();return xs;}}),Route:{Append:function(xt,xu){var xv,xw;xv=xt.$0;xw=xu.$0;return{$:0,$0:p.Append(xv,xw)};},FromList:function(xx){var xy,xz;xy=c.ofSeq(xx);xz=p.FromArray(xy);return{$:0,$0:xz};},MakeHash:function(xA){var xB,xC,xD;xB=xA.$0;xC=p.ToArray(xB);xD=c.map(function(xE){return _8(xE);},xC);return _9.concat("/",xD);},NoHash:function(xF){return _9.StartsWith(xF,"#")?xF.substring(1):xF;},ParseHash:function(xG){var xH,xI,xK;xH=_9.SplitChars(_.NoHash(xG),[47],1);xI=c.map(function(xJ){return ba(xJ);},xH);xK=p.FromArray(xI);return{$:0,$0:xK};},SameHash:function(xL,xM){return _.NoHash(xL)===_.NoHash(xM);},ToList:function(xN){var xO,xP;xO=xN.$0;xP=p.ToArray(xO);return B.ofArray(xP);}},RouteMap1:$.Class({},{Create:function(xQ,xR){return{Des:xR,Ser:xQ};},Install:function(xS){return bb.InstallMap(xS);}}),Router1:$.Class({},{Dir:function(xT,xU){var xV;xV=bc.Merge(xU);return bc.Prefix(xT,xV);},Install:function(xW,xX){return bb.Install(xW,xX);},Merge:function(xY){return bb.MergeRouters(xY);},Prefix:function(xZ,x0){var x1,x2;x1=x0.$0;x2=x0.$1;return{$:0,$0:x1,$1:bd.Prefix(xZ,x2)};},Route:function(x3,x4,x5){return bb.DefineRoute(x3,x4,x5);}}),Routing:{ComputeBodies:function(x6){var x7,x8,x_;x7=be.New12();x8=function(x9){return x7.set_Item(x9.RouteId,x9);};x_=bd.ToArray(x6);c.iter(x8,x_);return x7;},DefineRoute:function(x$,ya,yb){var yc,yd,ye,yf;yc=X.Create(ya);yd=h.Int();ye=(yb({$:0,$0:yd}))(yc);yf=bd.Leaf({$:0,$0:yd,$1:function(yg){var yh,yj;yh=function(yi){return yg.UpdateRoute.call(null,bb.DoLink(x$,yi));};yj=yc.get_View();E.Sink(yh,yj);return{OnRouteChanged:function(yk){return V.Set(yc,bb.DoRoute(x$,yk));},OnSelect:function(){return yg.UpdateRoute.call(null,bb.DoLink(x$,V.Get(yc)));},RouteId:yd,RouteValue:ye};}});return{$:0,$0:{$:1,$0:ye},$1:yf};},DoLink:function(ym,yn){return _.FromList(ym.Ser.call(null,yn));},DoRoute:function(yo,yp){return yo.Des.call(null,_.ToList(yp));},Install:function(yq,yr){var ys,yt,yu,yx,yy,yE,yF,yH,yI,yJ,yK,yL,yM,yN,yO,yQ,yR,yY;ys=yr.$0;yt=yr.$1;yu=bb.InstallMap({Des:function(yv){return _.FromList(yv);},Ser:function(yw){return _.ToList(yw);}});yx={Bodies:g.U(),CurrentRoute:yu,CurrentSite:0,Selection:g.U()};yy=function(yz){return function(yA){var yB,yC;yB=yA.$1;yC=yA.$0;return yB({UpdateRoute:function(yD){return bb.OnInternalSiteUpdate(yx,yC,yz,yD);}});};};yE=bd.Map(yy,yt);yx.Bodies=bb.ComputeBodies(yE);yF=function(yG){return bd.Lookup(yE,_.ToList(yG));};yH=yF(V.Get(yu));if(yH.$==0){yK=yH.$0;yH.$1;yx.CurrentSite=yK.RouteId;yJ=X.Create(yK.RouteValue);}else{if(ys.$==1){yN=ys.$0;yM=yN;}else{yM=N.FailWith("Site.Install fails on empty site");}yL=yM;yJ=X.Create(yL);}yI=yJ;yx.Selection=yI;yO=function(yP){return bb.OnSelectSite(yx,yq(yP));};yQ=yI.get_View();E.Sink(yO,yQ);yR=function(yS){var yT,yU,yV,yW,yX;yT=yF(yS);if(yT.$==1){yU=null;}else{yV=yT.$0;yW=yT.$1;yX=_.FromList(yW);yU=bb.OnGlobalRouteChange(yx,yV,yX);}return yU;};yR(V.Get(yu));yY=yu.get_View();E.Sink(yR,yY);return yI;},InstallMap:function(yZ){var y0,y3,y4,y7,y9,za;y0=function(){var y2;y2=_.ParseHash(bf.location.hash);return yZ.Des.call(null,_.ToList(y2));};y3=X.Create(y0(null));y4=function(y5){var y6;y6=V.Get(y3);return!m.Equals(yZ.Ser.call(null,y6),yZ.Ser.call(null,y5))?V.Set(y3,y5):null;};y7=function(){return y4(y0(null));};bf.onpopstate=y7;bf.onhashchange=y7;y9=function(y_){var y$;y$=_.MakeHash(_.FromList(yZ.Ser.call(null,y_)));return!_.SameHash(bf.location.hash,y$)?void(bf.location.hash=y$):null;};za=y3.get_View();E.Sink(y9,za);return y3;},MergeRouters:function(zb){var zc,zd,zg,zh,zi,zl,zm,zn;zc=d.toArray(zb);zd=function(ze){var zf;zf=ze.$1;return zf;};zg=d.map(zd,zc);zh=bd.Merge(zg);zi=function(zj){var zk;zk=zj.$0;return zk;};zl=d.tryPick(zi,zc);if(zh.$==1){zn=zh.$0;zm={$:0,$0:zl,$1:zn};}else{zm=N.FailWith("Invalid Site.Merge: need more prefix disambiguation");}return zm;},OnGlobalRouteChange:function(zo,zp,zq){var zr;if(zo.CurrentSite!==zp.RouteId){zo.CurrentSite=zp.RouteId;zr=V.Set(zo.Selection,zp.RouteValue);}else{zr=null;}return zp.OnRouteChanged.call(null,zq);},OnInternalSiteUpdate:function(zs,zt,zu,zv){var zw,zx;if(zs.CurrentSite===zt){zx=_.Append(_.FromList(zu),zv);zw=bb.SetCurrentRoute(zs,zx);}else{zw=null;}return zw;},OnSelectSite:function(zy,zz){var zA,zB;zA=zz.$0;if(zy.CurrentSite!==zA){zy.CurrentSite=zA;zB=zy.Bodies.get_Item(zA).OnSelect.call(null,null);}else{zB=null;}return zB;},SetCurrentRoute:function(zC,zD){return!m.Equals(V.Get(zC.CurrentRoute),zD)?V.Set(zC.CurrentRoute,zD):null;}},Snap1:{Bind:function(zE,zF){var zG,zH,zJ;zG=bg.Create();zH=function(){return bg.MarkObsolete(zG);};zJ=function(zK){var zL;zL=zE(zK);return bg.When(zL,function(zM){return(bg.IsForever(zL)?bg.IsForever(zF):false)?bg.MarkForever(zG,zM):bg.MarkReady(zG,zM);},zH);};bg.When(zF,zJ,zH);return zG;},Create:function(){return bg.Make({$:3,$0:[],$1:[]});},CreateForever:function(zN){return bg.Make({$:0,$0:zN});},CreateWithValue:function(zO){return bg.Make({$:2,$0:zO,$1:[]});},IsForever:function(zP){var zQ;zQ=zP.State;return zQ.$==0?true:false;},IsObsolete:function(zR){var zS;zS=zR.State;return zS.$==1?true:false;},Make:function(zT){return{State:zT};},Map:function(zU,zV){var zW,zX,zY,zZ;zW=zV.State;if(zW.$==0){zY=zW.$0;zX=bg.CreateForever(zU(zY));}else{zZ=bg.Create();bg.When(zV,function(z0){var z1;z1=zU(z0);return bg.MarkDone(zZ,zV,z1);},function(){return bg.MarkObsolete(zZ);});zX=zZ;}return zX;},Map2:function(z3,z4,z5){var z6,z7,z8,z9,z_,z$,Aa,Ab,Ad,Ae,Af,Ag,Ai;z6=[z4.State,z5.State];if(z6[0].$==0){if(z6[1].$==0){z9=z6[0].$0;z_=z6[1].$0;z8=bg.CreateForever((z3(z9))(z_));}else{z$=z6[0].$0;z8=bg.Map(z3(z$),z5);}z7=z8;}else{if(z6[1].$==0){Ab=z6[1].$0;Aa=bg.Map(function(Ac){return(z3(Ac))(Ab);},z4);}else{Ad=bg.Create();Ae=[{$:0}];Af=[{$:0}];Ag=function(){Ae[0]={$:0};Af[0]={$:0};return bg.MarkObsolete(Ad);};Ai=function(){var Ak,Al,Am,An,Ao;Ak=[Ae[0],Af[0]];if(Ak[0].$==1){if(Ak[1].$==1){An=Ak[0].$0;Ao=Ak[1].$0;Am=(bg.IsForever(z4)?bg.IsForever(z5):false)?bg.MarkForever(Ad,(z3(An))(Ao)):bg.MarkReady(Ad,(z3(An))(Ao));}else{Am=null;}Al=Am;}else{Al=null;}return Al;};bg.When(z4,function(Ap){Ae[0]={$:1,$0:Ap};return Ai(null);},Ag);bg.When(z5,function(Aq){Af[0]={$:1,$0:Aq};return Ai(null);},Ag);Aa=Ad;}z7=Aa;}return z7;},Map3:function(Ar,As,At,Au){var Av,Aw,Ax,Ay,Az,AA,AB,AC,AD,AF,AG,AH,AJ,AM,AN,AO,AP,AR,AU,AV,AY,AZ,A0,A1,A2,A4;Av=[As.State,At.State,Au.State];if(Av[0].$==0){if(Av[1].$==0){if(Av[2].$==0){Az=Av[0].$0;AA=Av[1].$0;AB=Av[2].$0;Ay=bg.CreateForever(((Ar(Az))(AA))(AB));}else{AC=Av[0].$0;AD=Av[1].$0;Ay=bg.Map(function(AE){return((Ar(AC))(AD))(AE);},Au);}Ax=Ay;}else{if(Av[2].$==0){AG=Av[0].$0;AH=Av[2].$0;AF=bg.Map(function(AI){return((Ar(AG))(AI))(AH);},At);}else{AJ=Av[0].$0;AF=bg.Map2(function(AK){return function(AL){return((Ar(AJ))(AK))(AL);};},At,Au);}Ax=AF;}Aw=Ax;}else{if(Av[1].$==0){if(Av[2].$==0){AO=Av[1].$0;AP=Av[2].$0;AN=bg.Map(function(AQ){return((Ar(AQ))(AO))(AP);},As);}else{AR=Av[1].$0;AN=bg.Map2(function(AS){return function(AT){return((Ar(AS))(AR))(AT);};},As,Au);}AM=AN;}else{if(Av[2].$==0){AV=Av[2].$0;AU=bg.Map2(function(AW){return function(AX){return((Ar(AW))(AX))(AV);};},As,At);}else{AY=bg.Create();AZ=[{$:0}];A0=[{$:0}];A1=[{$:0}];A2=function(){AZ[0]={$:0};A0[0]={$:0};A1[0]={$:0};return bg.MarkObsolete(AY);};A4=function(){var A6,A7,A8,A9,A_,A$,Ba;A6=[AZ[0],A0[0],A1[0]];if(A6[0].$==1){if(A6[1].$==1){if(A6[2].$==1){A_=A6[0].$0;A$=A6[1].$0;Ba=A6[2].$0;A9=((bg.IsForever(As)?bg.IsForever(At):false)?bg.IsForever(Au):false)?bg.MarkForever(AY,((Ar(A_))(A$))(Ba)):bg.MarkReady(AY,((Ar(A_))(A$))(Ba));}else{A9=null;}A8=A9;}else{A8=null;}A7=A8;}else{A7=null;}return A7;};bg.When(As,function(Bb){AZ[0]={$:1,$0:Bb};return A4(null);},A2);bg.When(At,function(Bc){A0[0]={$:1,$0:Bc};return A4(null);},A2);bg.When(Au,function(Bd){A1[0]={$:1,$0:Bd};return A4(null);},A2);AU=AY;}AM=AU;}Aw=AM;}return Aw;},MapAsync:function(Be,Bf){var Bg;Bg=bg.Create();bg.When(Bf,function(Bh){return bh.StartTo(Be(Bh),function(Bi){return bg.MarkDone(Bg,Bf,Bi);});},function(){return bg.MarkObsolete(Bg);});return Bg;},MapCached:function(Bk,Bl,Bm){var Bn;Bn=function(Bo){var Bp,Bq,Br,Bs,Bt,Bu,Bv;Bp=Bk[0];if(Bp.$==1){Bp.$0[1];Br=Bp.$0[0];if(m.Equals(Bo,Br)){Bp.$0[0];Bt=Bp.$0[1];Bs=Bt;}else{Bu=Bl(Bo);Bk[0]={$:1,$0:[Bo,Bu]};Bs=Bu;}Bq=Bs;}else{Bv=Bl(Bo);Bk[0]={$:1,$0:[Bo,Bv]};Bq=Bv;}return Bq;};return bg.Map(Bn,Bm);},MarkDone:function(Bw,Bx,By){return bg.IsForever(Bx)?bg.MarkForever(Bw,By):bg.MarkReady(Bw,By);},MarkForever:function(Bz,BA){var BB,BC,BD;BB=Bz.State;if(BB.$==3){BD=BB.$0;Bz.State={$:0,$0:BA};BC=l.Iter(function(BE){return BE(BA);},BD);}else{BC=null;}return BC;},MarkObsolete:function(BF){var BG,BH,BI,BK;BG=BF.State;if(BG.$==1){BH=null;}else{if(BG.$==2){BI=BG.$1;BF.State={$:1};BH=l.Iter(function(BJ){return BJ(null);},BI);}else{if(BG.$==3){BK=BG.$1;BF.State={$:1};BH=l.Iter(function(BL){return BL(null);},BK);}else{BH=null;}}}return BH;},MarkReady:function(BM,BN){var BO,BP,BQ,BR;BO=BM.State;if(BO.$==3){BQ=BO.$1;BR=BO.$0;BM.State={$:2,$0:BN,$1:BQ};BP=l.Iter(function(BS){return BS(BN);},BR);}else{BP=null;}return BP;},Sequence:function(BT){var BU,BV,BW,BX,BY,BZ,B1,B4;BU=bg.Create();BV=c.ofSeq(BT);BW=c.length(BV);BX=[0];BY=[[]];BZ=function(){BX[0]=0;BY[0]=[];return bg.MarkObsolete(BU);};B1=function(){return BX[0]===BW?d.forall(function(B3){return bg.IsForever(B3);},BV)?bg.MarkForever(BU,BY[0]):bg.MarkReady(BU,BY[0]):null;};B4=function(B5){return function(B6){return bg.When(B6,function(B7){BY[0][B5]=B7;bi.incr(BX);return B1(null);},BZ);};};c.iteri(B4,BV);return BU;},SnapshotOn:function(B8,B9){var B_,B$,Ca,Cb,Cc,Cd,Ce,Cg;B_=[B8.State,B9.State];if(B_[1].$==0){Ca=B_[1].$0;B$=bg.CreateForever(Ca);}else{Cb=bg.Create();Cc=[{$:0}];Cd=[false];Ce=function(){Cc[0]={$:0};return bg.MarkObsolete(Cb);};Cg=function(){var Ci,Cj,Ck,Cl,Cm,Cn,Co,Cp,Cq;if(Cd[0]){Cj=Cc[0];if(Cj.$==1){Cj.$0;if(bg.IsForever(B9)){Cm=Cj.$0;Cl=bg.MarkForever(Cb,Cm);}else{if(Cj.$==1){Co=Cj.$0;Cn=bg.MarkReady(Cb,Co);}else{Cn=null;}Cl=Cn;}Ck=Cl;}else{if(Cj.$==1){Cq=Cj.$0;Cp=bg.MarkReady(Cb,Cq);}else{Cp=null;}Ck=Cp;}Ci=Ck;}else{Ci=null;}return Ci;};bg.When(B8,function(){Cd[0]=true;return Cg(null);},Ce);bg.When(B9,function(Cs){Cc[0]={$:1,$0:Cs};return Cg(null);},function(){});B$=Cb;}return B$;},When:function(Cu,Cv,Cw){var Cx,Cy,Cz,CA,CB,CC,CD;Cx=Cu.State;if(Cx.$==1){Cy=Cw(null);}else{if(Cx.$==2){Cz=Cx.$0;CA=Cx.$1;l.Add(Cw,CA);Cy=Cv(Cz);}else{if(Cx.$==3){CB=Cx.$1;CC=Cx.$0;l.Add(Cv,CC);Cy=l.Add(Cw,CB);}else{CD=Cx.$0;Cy=Cv(CD);}}}return Cy;}},Storage1:{ArrayStorage:$.Class({Add:function(CE,CF){var CG;CG=CF.push(CE);return CF;},Init:function(){return this.init;},RemoveIf:function(CH,CI){return c.filter(CH,CI);},Set:function(CJ){return d.toArray(CJ);},SetAt:function(CK,CL,CM){c.set(CM,CK,CL);return CM;}},{New:function(CN){var CO;CO=$.New(this,{});CO.init=CN;return CO;}}),InMemory:function(CP){return bj.New(CP);},LocalStorage:function(CQ,CR){return bk.New(CQ,CR);},LocalStorageBackend:$.Class({Add:function(CS,CT){var CU;CU=CT.push(CS);return this.set(CT);},Init:function(){var CV,CW,CX,CY,CZ,C0;CV=this.storage.getItem(this.id);if(CV===null){CW=[];}else{try{CY=bl.parse(CV);CZ=this.serializer.Decode;CX=c.map(CZ,CY);}catch(C0){CX=[];}CW=CX;}return CW;},RemoveIf:function(C1,C2){var C3;C3=c.filter(C1,C2);return this.set(C3);},Set:function(C4){var C5;C5=d.toArray(C4);return this.set(C5);},SetAt:function(C6,C7,C8){c.set(C8,C6,C7);return this.set(C8);},clear:function(){return this.storage.removeItem(this.id);},set:function(C9){var C_,C$;C_=this.serializer.Encode;C$=c.map(C_,C9);this.storage.setItem(this.id,bl.stringify(C$));return C9;}},{New:function(Da,Db){var Dc;Dc=$.New(this,{});Dc.id=Da;Dc.serializer=Db;Dc.storage=bf.localStorage;return Dc;}})},String:{isBlank:function(Dd){return _9.forall(function(De){return bm.IsWhiteSpace(De);},Dd);}},Submitter:$.Class({Trigger:function(){return V.Set(this["var"],null);},get_Input:function(){return this.input;},get_View:function(){return this.view;}},{Create:function(Df,Dg){return bn.New(Df,Dg);},CreateOption:function(Dh){var Di;Di=function(Dj){return{$:1,$0:Dj};};return bn.New(u.Map(Di,Dh),{$:0});},New:function(Dk,Dl){var Dm,Dn,Do;Dm=$.New(this,{});Dm.input=Dk;Dm["var"]=X.Create(null);Dn=Dm["var"].get_View();Do=Dm.input;Dm.view=u.SnapshotOn(Dl,Dn,Do);return Dm;},Trigger:function(Dp){return Dp.Trigger();},View:function(Dq){return Dq.get_View();}}),Submitter1:$.Class({},{Input:function(Dr){return Dr.get_Input();}}),Trans:$.Class({},{AnimateChange:function(Ds,Dt,Du){return(Ds.TChange.call(null,Dt))(Du);},AnimateEnter:function(Dv,Dw){return Dv.TEnter.call(null,Dw);},AnimateExit:function(Dx,Dy){return Dx.TExit.call(null,Dy);},CanAnimateChange:function(Dz){return(Dz.TFlags&1)!==0;},CanAnimateEnter:function(DA){return(DA.TFlags&2)!==0;},CanAnimateExit:function(DB){return(DB.TFlags&4)!==0;},Create:function(DC){return{TChange:DC,TEnter:function(DD){return o.Const(DD);},TExit:function(DE){return o.Const(DE);},TFlags:1};},Trivial:function(){return{TChange:function(){return function(DG){return o.Const(DG);};},TEnter:function(DH){return o.Const(DH);},TExit:function(DI){return o.Const(DI);},TFlags:0};}}),Trans1:$.Class({},{Change:function(DJ,DK){var DL;DL=DK.TFlags|1;return{TChange:DJ,TEnter:DK.TEnter,TExit:DK.TExit,TFlags:DL};},Enter:function(DM,DN){var DO;DO=DN.TFlags|2;return{TChange:DN.TChange,TEnter:DM,TExit:DN.TExit,TFlags:DO};},Exit:function(DP,DQ){var DR;DR=DQ.TFlags|4;return{TChange:DQ.TChange,TEnter:DQ.TEnter,TExit:DP,TFlags:DR};}}),Trie1:{AllSome:function(DS){var DT,DU,DV,DW,DX,DY;DT=bo.Get(DS);DU=bq.New2();DV=true;while(DV?DT.MoveNext():false){DW=DT.get_Current();if(DW.$==1){DY=DW.$0;DX=DU.Add(DY);}else{DX=DV=false;}}return DV?{$:1,$0:DU.ToArray()}:{$:0};},Empty:function(){return{$:1};},IsLeaf:function(DZ){return DZ.$==2?true:false;},Leaf:function(D0){return{$:2,$0:D0};},Look:function(D1,D2){var D3,D4,D5,D6,D7,D8,D9,D_,D$,Ea;D3=[D2,D1];if(D3[0].$==2){D5=D3[0].$0;D4={$:0,$0:D5,$1:D1};}else{if(D3[0].$==0){if(D3[1].$==1){D7=D3[1].$0;D8=D3[1].$1;D9=D3[0].$0;D_=br.TryFind(D7,D9);if(D_.$==0){D$={$:1};}else{Ea=D_.$0;D$=bd.Look(D8,Ea);}D6=D$;}else{D6={$:1};}D4=D6;}else{D4={$:1};}}return D4;},Lookup:function(Eb,Ec){return bd.Look(d.toList(Ec),Eb);},Map:function(Ed,Ee){return bd.MapLoop($.New(O,{$:0}),Ed,Ee);},MapLoop:function(Ef,Eg,Eh){var Ei,Ej,Ek,El,Eo;if(Eh.$==1){Ei={$:1};}else{if(Eh.$==2){Ej=Eh.$0;Ei={$:2,$0:(Eg(Ef))(Ej)};}else{Ek=Eh.$0;El=function(Em){return function(En){return bd.MapLoop(B.append(Ef,B.ofArray([Em])),Eg,En);};};Eo=br.Map(El,Ek);Ei=bd.TrieBranch(Eo);}}return Ei;},Mapi:function(Ep,Eq){var Er,Es;Er=[0];Es=function(){var Eu;Eu=Er[0];Er[0]=Eu+1;return Eu;};return bd.Map(function(Ev){return(Ep(Es(null)))(Ev);},Eq);},Merge:function(Ew){var Ex,Ey,Ez,EB,EC,EG,EI,EK,EL;Ex=d.toArray(Ew);Ey=c.length(Ex);if(Ey===0){Ez={$:1,$0:{$:1}};}else{if(Ey===1){Ez={$:1,$0:c.get(Ex,0)};}else{if(d.exists(function(EA){return bd.IsLeaf(EA);},Ex)){EB={$:0};}else{EC=function(ED){var EE,EF;if(ED.$==0){EF=ED.$0;EE={$:1,$0:EF};}else{EE={$:0};}return EE;};EG=function(EH){return bd.Merge(EH);};EI=function(EJ){return bd.TrieBranch(EJ);};EK=d.choose(EC,Ex);EL=bd.MergeMaps(EG,EK);EB=t.map(EI,EL);}Ez=EB;}}return Ez;},MergeMaps:function(EM,EN){var EO,EQ,EV,EW,EX,EY,E5,E6,E7;EO=d.collect(function(EP){return br.ToSeq(EP);},EN);EQ=function(ER){return function(ES){var ET,EU;ET=ES[0];EU=ES[1];return bd.MultiAdd(ET,EU,ER);};};EV=bs.New1([]);EW=d.fold(EQ,EV,EO);EX=br.ToSeq(EW);EY=function(EZ){var E0,E1,E2,E4;E0=EZ[0];E1=EZ[1];E2=function(E3){return[E0,E3];};E4=EM(E1);return t.map(E2,E4);};E5=d.map(EY,EX);E6=bd.AllSome(E5);E7=function(E8){return br.OfArray(d.toArray(E8));};return t.map(E7,E6);},MultiAdd:function(E9,E_,E$){return E$.Add(E9,$.New(O,{$:1,$0:E_,$1:bd.MultiFind(E9,E$)}));},MultiFind:function(Fa,Fb){return N.DefaultArg(br.TryFind(Fa,Fb),$.New(O,{$:0}));},Prefix:function(Fc,Fd){return bd.TrieBranch(bs.New1(B.ofArray([[Fc,Fd]])));},ToArray:function(Fe){var Ff,Fg;Ff=[];Fg=bd.Map(function(){return function(Fi){return l.Add(Fi,Ff);};},Fe);return l.ToArray(Ff);},TrieBranch:function(Fj){return Fj.get_IsEmpty()?{$:1}:{$:0,$0:Fj};}},Var:$.Class({Get:function(){return V.Get(this);},Set:function(Fk){return V.Set(this,Fk);},Update:function(Fl){return V.Update(this,Fl);},UpdateMaybe:function(Fm){var Fn,Fo,Fp;Fn=Fm(V.Get(this));if(Fn.$==1){Fp=Fn.$0;Fo=V.Set(this,Fp);}else{Fo=null;}return Fo;},get_Id:function(){return"uinref"+$$.String(V.GetId(this));},get_View:function(){var Fr=this;return{$:0,$0:function(){return V.Observe(Fr);}};},get_View1:function(){return this.get_View();}},{Create:function(Fs){return $.New(X,{Const:false,Current:Fs,Snap:bg.CreateWithValue(Fs),Id:h.Int()});}}),Var1:$.Class({},{Get:function(Ft){return Ft.Current;},GetId:function(Fu){return Fu.Id;},Lens:function(Fv,Fw,Fx){return bt.New(Fv,Fw,Fx);},Observe:function(Fy){return Fy.Snap;},Set:function(Fz,FA){var FB;if(Fz.Const){FB=null;}else{bg.MarkObsolete(Fz.Snap);Fz.Current=FA;FB=void(Fz.Snap=bg.CreateWithValue(FA));}return FB;},SetFinal:function(FC,FD){var FE;if(FC.Const){FE=null;}else{FC.Const=true;FC.Current=FD;FE=void(FC.Snap=bg.CreateForever(FD));}return FE;},Update:function(FF,FG){var FH;FH=FG(V.Get(FF));return V.Set(FF,FH);}}),View:$.Class({},{ConvertSeqNode:function(FI,FJ){var FK,FL;FK=X.Create(FJ);FL=FK.get_View();return{NValue:FI(FL),NVar:FK,NView:FL};},CreateLazy:function(FM){var FN,FO;FN=[{$:0}];FO=function(){var FQ,FR,FS,FT,FU,FV,FW;FQ=FN[0];if(FQ.$==1){FS=FQ.$0;if(!bg.IsObsolete(FS)){FU=FQ.$0;FT=FU;}else{FV=FM(null);FN[0]={$:1,$0:FV};FT=FV;}FR=FT;}else{FW=FM(null);FN[0]={$:1,$0:FW};FR=FW;}return FR;};return{$:0,$0:FO};},CreateLazy2:function(FX,FY,FZ){var F0,F1;F0=FY.$0;F1=FZ.$0;return u.CreateLazy(function(){var F3,F4;F3=F0(null);F4=F1(null);return(FX(F3))(F4);});},Map:function(F5,F6){var F7;F7=F6.$0;return u.CreateLazy(function(){var F9;F9=F7(null);return bg.Map(F5,F9);});},Map2:function(F_,F$,Ga){var Gb;Gb=function(Gc){return function(Gd){return bg.Map2(F_,Gc,Gd);};};return u.CreateLazy2(Gb,F$,Ga);},MapAsync:function(Ge,Gf){var Gg;Gg=Gf.$0;return u.CreateLazy(function(){var Gi;Gi=Gg(null);return bg.MapAsync(Ge,Gi);});},MapCached:function(Gj,Gk){var Gl,Gm;Gl=Gk.$0;Gm=[{$:0}];return u.CreateLazy(function(){var Go;Go=Gl(null);return bg.MapCached(Gm,Gj,Go);});},MapSeqCached:function(Gp,Gq){var Gr;Gr=function(Gs){return Gs;};return u.MapSeqCachedBy(Gr,Gp,Gq);},MapSeqCachedBy:function(Gt,Gu,Gv){var Gw,Gx;Gw=[be.New12()];Gx=function(Gy){var Gz,GA,GB,GF,GG;Gz=Gw[0];GA=be.New12();GB=function(GC){var GD,GE;GD=Gt(GC);GE=Gz.ContainsKey(GD)?Gz.get_Item(GD):Gu(GC);GA.set_Item(GD,GE);return GE;};GF=d.toArray(Gy);GG=c.map(GB,GF);Gw[0]=GA;return GG;};return u.Map(Gx,Gv);},MapSeqCachedView:function(GH,GI){var GJ,GL;GJ=function(GK){return GK;};GL=function(){return function(GN){return GH(GN);};};return u.MapSeqCachedViewBy(GJ,GL,GI);},MapSeqCachedViewBy:function(GO,GP,GQ){var GR,GS;GR=[be.New12()];GS=function(GT){var GU,GV,GW,GX,G6;GU=GR[0];GV=be.New12();GW=d.toArray(GT);GX=function(GY){var GZ,G0,G1,G2,G3,G4;GZ=GO(GY);if(GU.ContainsKey(GZ)){G2=GU.get_Item(GZ);G3=G2.NVar;V.Set(G3,GY);G1=G2;}else{G4=function(G5){return(GP(GZ))(G5);};G1=u.ConvertSeqNode(G4,GY);}G0=G1;GV.set_Item(GZ,G0);return G0.NValue;};G6=c.map(GX,GW);GR[0]=GV;return G6;};return u.Map(GS,GQ);},SnapshotOn:function(G7,G8,G9){var G_,G$,Ha,Hb,Hc,Hf;G_=G8.$0;G$=G9.$0;Ha=bg.CreateWithValue(G7);Hb=[false];Hc=function(){var He;if(!Hb[0]){Hb[0]=true;He=bg.MarkObsolete(Ha);}else{He=null;}return He;};Hf=function(){var Hh,Hi,Hj,Hk;Hh=G_(null);Hi=G$(null);if(Hb[0]){Hj=bg.SnapshotOn(Hh,Hi);}else{Hk=bg.SnapshotOn(Hh,Hi);bg.When(Hk,function(){return null;},function(){return Hc(null);});Hj=Ha;}return Hj;};return u.CreateLazy(Hf);},UpdateWhile:function(Hn,Ho,Hp){var Hq,Hr;Hq=[Hn];Hr=function(Hs){return function(Ht){Hs?void(Hq[0]=Ht):null;return Hq[0];};};return u.Map2(Hr,Ho,Hp);},get_Do:function(){return{$:0};}}),View1:$.Class({},{Apply:function(Hu,Hv){var Hw;Hw=function(Hx){return function(Hy){return Hx(Hy);};};return u.Map2(Hw,Hu,Hv);},Bind:function(Hz,HA){return E.Join(u.Map(Hz,HA));},Const:function(HB){var HC;HC=bg.CreateForever(HB);return{$:0,$0:function(){return HC;}};},Join:function(HE){var HF;HF=HE.$0;return u.CreateLazy(function(){var HH,HK;HH=function(HI){var HJ;HJ=HI.$0;return HJ(null);};HK=HF(null);return bg.Bind(HH,HK);});},Sequence:function(HL){return u.CreateLazy(function(){var HN,HQ;HN=function(HO){var HP;HP=HO.$0;return HP(null);};HQ=d.map(HN,HL);return bg.Sequence(HQ);});},Sink:function(HR,HS){var HT,HU;HT=HS.$0;HU=function(){var HW;HW=HT(null);return bg.When(HW,HR,function(){return bh.Schedule(HU);});};return bh.Schedule(HU);},TryFinally:function(HY,HZ){var H0;H0=HZ.$0;return u.CreateLazy(function(){var H2;try{H2=H0(null);}finally{HY(null);}return H2;});},TryWith:function(H3,H4){var H5;H5=H4.$0;return u.CreateLazy(function(){var H7,H8,H9,H_;try{H7=H5(null);}catch(H8){H9=H3(H8);H_=H9.$0;H7=H_(null);}return H7;});}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Concurrency);b=$.Safe($$.Array);c=$.Safe($$.WebSharper.Arrays);d=$.Safe($$.WebSharper.Seq);e=$.Safe($$.WebSharper.UI);f=$.Safe(e.Next);g=$.Safe(f.Abbrev);h=$.Safe(g.Fresh);i=$.Safe($$.WebSharper.Collections);j=$.Safe(i.HashSetProxy);k=$.Safe(g.HashSet);l=$.Safe(g.JQueue);m=$.Safe($$.WebSharper.Unchecked);n=$.Safe(g.Slot1);o=$.Safe(f.An);p=$.Safe(f.AppendList1);q=$.Safe(f.Anims);r=$.Safe($$.requestAnimationFrame);s=$.Safe(f.Trans);t=$.Safe($$.WebSharper.Option);u=$.Safe(f.View);v=$.Safe($$.WebSharper.Lazy);w=$.Safe(f.Array);x=$.Safe(f.Attrs);y=$.Safe(f.DomUtility);z=$.Safe(f.AttrModule);A=$.Safe(f.AttrProxy);B=$.Safe($$.WebSharper.List);C=$.Safe(f.AnimatedAttrNode);D=$.Safe(f.DynamicAttrNode);E=$.Safe(f.View1);F=$.Safe($$.document);G=$.Safe(f.Doc);H=$.Safe(f.Elt);I=$.Safe($$.Seq);J=$.Safe(f.Docs);K=$.Safe(f.String);L=$.Safe(f.CheckedInput);M=$.Safe(g.Mailbox);N=$.Safe($$.WebSharper.Operators);O=$.Safe(B.T);P=$.Safe($$.jQuery);Q=$.Safe(J.NodeSet);R=$.Safe(f.DocElemNode);S=$.Safe(J.DomNodes);T=$.Safe(f.Easing);U=$.Safe(f.Easings);V=$.Safe(f.Var1);W=$.Safe($$.RegExp);X=$.Safe(f.Var);Y=$.Safe(f.FlowBuilder);Z=$.Safe(f.Flow1);_0=$.Safe(f.Input);_1=$.Safe(f.DoubleInterpolation);_2=$.Safe(f.Key);_3=$.Safe(f.ListModels);_4=$.Safe(f.RefImpl1);_5=$.Safe(f.Storage1);_6=$.Safe(f.ListModel);_7=$.Safe(f.Model);_8=$.Safe($$.encodeURIComponent);_9=$.Safe($$.WebSharper.Strings);_=$.Safe(f.Route);ba=$.Safe($$.decodeURIComponent);bb=$.Safe(f.Routing);bc=$.Safe(f.Router1);bd=$.Safe(f.Trie1);be=$.Safe(i.Dictionary);bf=$.Safe($$.window);bg=$.Safe(f.Snap1);bh=$.Safe(g.Async);bi=$.Safe($$.WebSharper.Ref);bj=$.Safe(_5.ArrayStorage);bk=$.Safe(_5.LocalStorageBackend);bl=$.Safe($$.JSON);bm=$.Safe($$.WebSharper.Char);bn=$.Safe(f.Submitter);bo=$.Safe($$.WebSharper.Enumerator);bp=$.Safe(i.ResizeArray);bq=$.Safe(bp.ResizeArrayProxy);br=$.Safe(i.MapModule);bs=$.Safe(i.FSharpMap);return bt=$.Safe(f.RefImpl);});$.OnLoad(function(){$.Inherit(H,G);_0.MousePosSt1();_0.MouseBtnSt1();_0.KeyListenerState();_0.ActivateKeyListener();_0.ActivateButtonListener();U.CubicInOut();y.Doc();x.EmptyAttr();h.counter();return;});}());
